(function(){var __webpack_modules__={6700:function(e,t,o){var n={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":3766,"./is.js":3766,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":3902,"./ms-my.js":3902,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function a(e){var t=i(e);return o(t)}function i(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id=6700},5200:function(e,t,o){o(1703),function(t,o){e.exports=o()}(0,(function(){return(()=>{"use strict";var e={};(()=>{e.d=(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})}})(),(()=>{e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{e.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})();var t={};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}e.r(t),e.d(t,{default:()=>s});var s=function(){function e(t,n){o(this,e),this.self=n,this.accessKey=t.accessKey}return a(e,null,[{key:"config",value:function(t){if(Object.keys(e.secretInfo).length>0)return new Promise((function(t,o){window.postMessage({eventName:"checkAuth",secretInfo:e.secretInfo},"".concat(window.origin)),e.listener(t,o)}));for(var o=Object.keys(t),n=0;n<o.length;n++)e.secretInfo[o[n]]=t[o[n]]}},{key:"listener",value:function(t,o){window.addEventListener("message",(function(n){var a=n.data.eventName;switch(a){case"authResult":e.secretInfo.signature===n.data.signature?(e.sdkSwitch=n.data.sdkSwitch,t(e.sdkSwitch)):(e.sdkSwitch=!1,o({code:401,msg:"SDK接口鉴权失败"}));break}}))}},{key:"ready",value:function(t){e.config().then((function(e){t()})),window.addEventListener("message",(function(t){var o=t.data.eventName,n=t.data.args;o&&e.events.forEach((function(e){o===e.event&&e.callBack(t,n)}))}))}},{key:"error",value:function(t){e.config()["catch"]((function(e){t(e)}))}},{key:"hideApp",value:function(t){if(t&&e.sdkSwitch)window.postMessage({eventName:"hideApp"},"".concat(window.origin)),t.hasOwnProperty("success")&&t.success();else{if(!e.sdkSwitch)return void(t.hasOwnProperty("fail")&&t.fail());window.postMessage({eventName:"hideApp"},"".concat(window.origin))}}},{key:"tabLinkJump",value:function(t){var o;t&&e.sdkSwitch?(window.postMessage({eventName:"tabLinkJump",url:null!==(o=t.url)&&void 0!==o?o:""}),t.hasOwnProperty("success")&&t.success()):t.hasOwnProperty("fail")&&t.fail()}},{key:"notice",value:function(t){if(t&&e.sdkSwitch)window.postMessage({eventName:"saAppNotice",options:t}),t.hasOwnProperty("success")&&t.success();else{if(!e.sdkSwitch)return void(t.hasOwnProperty("fail")&&t.fail());window.postMessage({eventName:"saAppNotice",options:t})}}},{key:"autoLoginSysApp",value:function(t){if(t&&e.sdkSwitch)window.postMessage({eventName:"autoLoginSysApp"}),t.hasOwnProperty("success")&&t.success();else{if(!e.sdkSwitch)return void(t.hasOwnProperty("fail")&&t.fail());window.postMessage({eventName:"autoLoginSysApp"})}}},{key:"on",value:function(t,o){e.events.push({event:t,callBack:o})}}]),e}();return i(s,"events",[]),i(s,"secretInfo",{}),i(s,"sdkSwitch",!1),t})()}))},5415:function(e,t,o){"use strict";var n=o(9242),a=o(3484),i=o(3396);function s(e,t,o,n,a,s){const r=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(r)}var r=o(9749),l=o(7214),c=o(8938),d=o(1960);l.Z.getWindowArgs(window),c.Z.init(window.globalArgs["user-data-dir"]),window.configDb=c.Z;const u=c.Z.getStorePath()+"/";window.$defaultStrorePath=u,d.Z.init(u),window.libDb=d.Z;var p={name:"App",components:{},data(){return{isApp:window.isApp}},computed:{...(0,r.rn)({userInfo:e=>e.user.userInfo,storePath:e=>e.config.storePath})},mounted(){this.$store.commit("config/setStorePath",u)},methods:{}},_=o(89);const m=(0,_.Z)(p,[["render",s]]);var h=m,f=(o(2467),o(5517)),b=o(631);const g="https://s.apps.vip/",v="10001",w={namespaced:!0,state:()=>({server:{loginUrl:g+"login?response_type=code&client_id="+v+"&state=1",userSpaceUrl:g+"user"},storePath:"",isApp:!1}),mutations:{setStorePath(e,t){e.storePath=t},setIsApp(e,t){e.isApp=t}},getters:{}};var k=w;const y={namespaced:!0,state:()=>({openHistory:[],itemSize:120,filters:[],config:{showSubFolders:!0},currentTab:{name:"all",alias:"全部",path:""},currentFolder:{path:"",name:"我的图片"}}),mutations:{setFilter(e,t){e.filters=t},addFilter(e,t){e.filters.push(t)},pushHistory(e,t){e.openHistory.push(t)},popHistory(e){e.openHistory.pop()},setItemSize(e,t){e.itemSize=t},setTab(e,t){e.currentTab=t},setCurrentFolder(e,t){e.currentFolder=t},focusItem(e,t){t.data.meta.new&&(t.data.meta.new=!1,window.libDb.setNotNew(t.data.meta.uuid)),e.focusedItem=t},setConfig(e,t){e.config=Object.assign(e.config,t)}},getters:{},actions:{init(e){e.dispatch("subFolder/updateTreeData",null,{root:!0})},goBackFolder(e){if(e.state.openHistory.length<2)return;let t=e.state.openHistory[e.state.openHistory.length-2];e.commit("popHistory"),e.commit("popHistory"),e.dispatch("changeFolder",t)},reload(e,t){window.libDb.reload(),e.dispatch("content/loadFolderContents",e.state.currentFolder.path,{root:!0}),t&&t()},changeFolder(e,t){e.dispatch("content/loadFolderContents",t.path,{root:!0}),e.commit("setCurrentFolder",t),e.commit("pushHistory",t)},changeTab(e,t){switch(t.name){case"all":t.alias="全部",e.commit("setFilter",[]),e.dispatch("changeFolder",{relativePath:"/",path:e.rootState.config.storePath,name:""});break;case"bookmark":t.alias="书签";break;case"img":t.alias="图片";break;case"video":t.alias="视频";break;case"doc":t.alias="文档"}e.dispatch("changeFolder",{relativePath:"/",path:e.rootState.config.storePath,name:""}),e.commit("setTab",t)}}};var D=y;const I={namespaced:!0,state:()=>({userInfo:{nickname:"想天浏览器",avatar:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?undefined",uid:0,spaceUrl:"https://s.apps.vip/user",userToken:"",token:"",userData:{}},folders:[]}),mutations:{setUserInfo(e,t){e.userInfo=t?{nickname:t.nickname,avatar:t.avatar,uid:t.uid,spaceUrl:"https://s.apps.vip/user",userToken:t.token,userData:t}:{nickname:"未登录",avatar:"",uid:0,spaceUrl:"",userToken:"",userData:null}}},getters:{},actions:{}};var x=I;const P={namespaced:!0,state:()=>({groups:[{icon:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?undefined",name:"想天软件",folders:[],foldersCount:4},{icon:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?undefined",name:"浏览器研发组",folders:[],foldersCount:7}]}),mutations:{saveUserInfo(e,t){e.userInfo=t?{nickname:t.nickname,avatar:t.avatar,uid:t.uid,spaceUrl:"https://s.apps.vip/user",userToken:t.token,userData:t}:{nickname:"未登录",avatar:"",uid:0,spaceUrl:"",userToken:"",userData:null}}},getters:{}};var C=P;const F=(0,r.MT)({modules:{content:f.Z,subFolder:b.Z,config:k,ui:D,user:x,group:C}});var T=F,S=o(5200),O=o.n(S);function E(e,t,o,n,a,s){const r=(0,i.up)("ContentHeader"),l=(0,i.up)("ContentList"),c=(0,i.up)("a-layout-content");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(r),(0,i._)("a",{onClick:t[0]||(t[0]=t=>e.history.go(-1))}),(0,i.Wm)(c,{style:{background:"white",padding:"20px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(l)])),_:1})],64)}var M=o(7139);const j=e=>((0,i.dD)("data-v-3158d8ce"),e=e(),(0,i.Cn)(),e),W={key:1},U={style:{display:"flex","vertical-align":"center"}},z={style:{flex:"200px","padding-right":"10px"}},A=j((()=>(0,i._)("div",{style:{flex:"auto"}},null,-1))),Z={style:{flex:"120px","padding-top":"7px"}},R=(0,i.Uk)("名称"),L=(0,i.Uk)("扩展名"),B=(0,i.Uk)("显示子文件夹内容"),$=(0,i.Uk)("添加时间"),K=(0,i.Uk)("创建时间"),q=(0,i.Uk)("修改时间"),H=(0,i.Uk)(" 网格 "),V=(0,i.Uk)(" 列表 "),N={shape:"circle",style:{"margin-right":"10px"}},Y={style:{position:"fixed",right:"260px","text-align":"center"}};function J(e,t,o,n,a,s){const r=(0,i.up)("login-outlined"),l=(0,i.up)("a-tooltip"),c=(0,i.up)("a-slider"),d=(0,i.up)("a-checkbox"),u=(0,i.up)("a-menu-item"),p=(0,i.up)("a-sub-menu"),_=(0,i.up)("a-menu-divider"),m=(0,i.up)("a-menu"),h=(0,i.up)("BorderOuterOutlined"),f=(0,i.up)("a-dropdown"),b=(0,i.up)("a-input-search"),g=(0,i.up)("a-page-header"),v=(0,i.up)("RedoOutlined"),w=(0,i.up)("a-button");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(g,{class:"content-header",backIcon:!(e.openHistory.length<=1)&&null,onBack:t[2]||(t[2]=()=>{this.$store.dispatch("ui/goBackFolder")})},{subTitle:(0,i.w5)((()=>[e.isApp&&e.currentTab.path?((0,i.wg)(),(0,i.j4)(l,{key:0,placement:"bottom",overlayStyle:{maxWidth:"1000px"}},{title:(0,i.w5)((()=>[(0,i._)("span",null,"点击打开完整路径："+(0,M.zw)(e.currentTab.path),1)])),default:(0,i.w5)((()=>[(0,i._)("span",{onClick:t[0]||(t[0]=t=>s.openDir(e.currentTab.path))},[(0,i.Uk)((0,M.zw)(e.currentTab.alias)+" ",1),(0,i.Wm)(r)])])),_:1})):((0,i.wg)(),(0,i.iD)("span",W,(0,M.zw)(e.currentTab.alias),1)),(0,i.Uk)(" "+(0,M.zw)(e.currentFolder.name),1)])),extra:(0,i.w5)((()=>[(0,i._)("div",U,[(0,i._)("div",z,[(0,i.Wm)(c,{value:s.itemSize,"onUpdate:value":t[1]||(t[1]=e=>s.itemSize=e),min:60,step:5,max:300},null,8,["value"])]),A,(0,i._)("div",Z,[(0,i.Wm)(f,null,{overlay:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,{key:"info",title:"显示信息"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[R])),_:1})])),_:1}),(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[L])),_:1})])),_:1}),(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[B])),_:1})])),_:1})])),_:1}),(0,i.Wm)(p,{key:"order",title:"排序方式"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[$])),_:1}),(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[K])),_:1}),(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[q])),_:1})])),_:1}),(0,i.Wm)(_),(0,i.Wm)(u,{key:"grid"},{default:(0,i.w5)((()=>[H])),_:1}),(0,i.Wm)(u,{key:"list"},{default:(0,i.w5)((()=>[V])),_:1}),(0,i.Wm)(_)])),_:1})])),default:(0,i.w5)((()=>[(0,i._)("span",N,[(0,i.Wm)(h)])])),_:1}),(0,i.Wm)(b,{size:"small",placeholder:"搜索",style:{width:"100px"}})])])])),_:1},8,["backIcon"]),(0,i._)("div",Y,[(0,i.Wm)(w,{title:"刷新",onClick:t[3]||(t[3]=e=>s.refresh()),id:"refreshingBtn",loading:a.refreshing,type:"primary",shape:"circle",style:{"text-align":"center"}},{icon:(0,i.w5)((()=>[(0,i.Wm)(v)])),_:1},8,["loading"])])])}var G=o(5792),X=o(2876),Q=o(851),ee=o(3391),te={name:"ContentHeader",props:{},mounted(){this.$store.commit("ui/setItemSize",Number(localStorage.getItem("itemSize")))},components:{BorderOuterOutlined:G.Z,RedoOutlined:X.Z,LoginOutlined:Q.Z},methods:{refresh(){this.refreshing=!0,this.$store.dispatch("ui/reload",(()=>{this.refreshing=!1})),document.getElementById("refreshingBtn").classList.add("refreshing"),setTimeout((()=>{document.getElementById("refreshingBtn").classList.remove("refreshing")}),500)},openDir(e){ee.Z.openDir(e)},changeTab(){this.refreshing=!0,this.$store.dispatch("ui/changeTab",{name:"all"}),setTimeout((()=>this.refreshing=!1),500)}},computed:{itemSize:{get(){return this.$store.state.ui.itemSize},set(e){this.$store.commit("ui/setItemSize",e),localStorage.setItem("itemSize",e)}},...(0,r.rn)({isApp:e=>e.config.isApp,currentFolder:e=>e.ui.currentFolder,currentTab:e=>e.ui.currentTab,openHistory:e=>e.ui.openHistory})},data(){return{refreshing:!1,routes:[{path:"index",breadcrumbName:"First-level Menu"},{path:"first",breadcrumbName:"Second-level Menu"},{path:"second",breadcrumbName:"Third-level Menu"}]}}};const oe=(0,_.Z)(te,[["render",J],["__scopeId","data-v-3158d8ce"]]);var ne=oe;function ae(e,t,o,n,a,s){const r=(0,i.up)("SubFolderList"),l=(0,i.up)("ContentItemList");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",null,[(0,i.Wm)(r)]),(0,i._)("div",null,[(0,i.Wm)(l)])],64)}const ie={key:0},se={style:{"margin-bottom":"10px"}},re={style:{"min-height":"150px"}},le=["onClick","onDblclick"],ce={key:0,class:"type-label new-label"},de={class:"folder-name"},ue={class:"inner-content-count"},pe=(0,i.Uk)("打开"),_e=(0,i.Uk)("查看所在位置"),me=(0,i.Uk)("删除文件夹");function he(e,t,o,n,a,s){const r=(0,i.up)("a-image"),l=(0,i.up)("a-menu-item"),c=(0,i.up)("a-menu"),d=(0,i.up)("a-dropdown");return e.subFolders.length>0?((0,i.wg)(),(0,i.iD)("div",ie,[(0,i._)("h3",se,"文件夹（"+(0,M.zw)(e.subFolders.length)+"） ",1),(0,i._)("div",re,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.subFolders,(t=>((0,i.wg)(),(0,i.j4)(d,{trigger:["contextmenu"],key:t},{overlay:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(l,{key:"openPath",onClick:e=>s.open(t.baseInfo.path+t.baseInfo.filename)},{default:(0,i.w5)((()=>[pe])),_:2},1032,["onClick"]),(0,i.Wm)(l,{key:"find",onClick:e=>s.showItemInFolder(t.baseInfo.path+t.baseInfo.filename)},{default:(0,i.w5)((()=>[_e])),_:2},1032,["onClick"]),(0,i.Wm)(l,{key:"delete",onClick:e=>s.trashItem(t.baseInfo.path+t.baseInfo.filename)},{default:(0,i.w5)((()=>[me])),_:2},1032,["onClick"])])),_:2},1024)])),default:(0,i.w5)((()=>[(0,i._)("div",{class:"sub-folder-wrapper",onClick:e=>s.selectItem(t),onDblclick:e=>s.changePath(t.name),style:(0,M.j5)([{width:e.itemSize+"px",height:e.itemSize+50+"px"},{}])},[(0,i._)("div",{class:"cover-wrapper",style:(0,M.j5)([{position:"relative"},{width:e.itemSize+"px",height:e.itemSize+"px"}])},[(0,i._)("div",{class:"sub-folder-frame",style:(0,M.j5)({width:e.itemSize+"px",height:e.itemSize+"px"})},null,4),t.meta.new?((0,i.wg)(),(0,i.iD)("div",ce,"New")):(0,i.kq)("",!0),(0,i.Wm)(r,{style:(0,M.j5)([{background:"#f6f6f6",padding:"20px"},{width:e.itemSize+"px",height:e.itemSize+"px"}]),preview:!1,class:"sub-folder-cover",src:t.cover},null,8,["style","src"])],4),(0,i._)("div",de,(0,M.zw)(t.name),1),(0,i._)("div",ue,(0,M.zw)(t.contentsCount)+" 内容",1)],44,le)])),_:2},1024)))),128))])])):(0,i.kq)("",!0)}var fe=o(3330),be={name:"SubFolderList",props:{msg:String},computed:{...(0,r.rn)({subFolders:e=>e.subFolder.subFolders,itemSize:e=>e.ui.itemSize})},methods:{changePath(e){this.$store.dispatch("ui/changeFolder",{path:this.$store.state.ui.currentFolder.path+e+"/"})},selectItem(e){this.$store.commit("ui/focusItem",{type:"folder",data:e})},open:ee.Z.openExternal,showItemInFolder:ee.Z.showItemInFolder,trashItem(e){let t=this;fe.Z.confirm({title:"删除确认",content:"是否确认删除文件夹？此操作会删除文件夹下面全部的内容。",okText:"确认",cancelText:"取消",onOk:()=>{ee.Z.trashFolder(e),setTimeout((()=>{t.$store.dispatch("ui/changeTab",{name:"all"})}),200),this.$message.success("删除文件夹成功。")}})}}};const ge=(0,_.Z)(be,[["render",he],["__scopeId","data-v-00132dda"]]);var ve=ge;const we={class:"hello"},ke={style:{"margin-bottom":"10px","margin-top":"20px"}},ye={style:{"min-height":"150px"}},De=["onClick"],Ie={key:4,class:"type-label new-label"},xe=(0,i.Uk)("打开"),Pe=(0,i.Uk)("查看所在位置"),Ce=(0,i.Uk)("删除文件"),Fe=(0,i.Uk)("编辑图片"),Te=(0,i.Uk)("设为新标签页默认壁纸");function Se(e,t,o,n,a,s){const r=(0,i.up)("a-empty"),l=(0,i.up)("TypePwd"),c=(0,i.up)("TypeImg"),d=(0,i.up)("TypeUrl"),u=(0,i.up)("TypeVideo"),p=(0,i.up)("TypeOther"),_=(0,i.up)("a-menu-item"),m=(0,i.up)("a-menu"),h=(0,i.up)("a-dropdown");return(0,i.wg)(),(0,i.iD)("div",we,[(0,i._)("h3",ke,"内容（"+(0,M.zw)(e.contents.length)+"）",1),(0,i._)("div",ye,[0===e.contents.length?((0,i.wg)(),(0,i.j4)(r,{key:0,style:{"margin-top":"60px"},description:"此文件夹下无内容"})):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:1},(0,i.Ko)(e.contentsOrderByCreateTime,(t=>((0,i.wg)(),(0,i.j4)(h,{trigger:["contextmenu"],key:t},{overlay:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(_,{key:"openPath",onClick:e=>s.open(t.baseInfo.path+t.baseInfo.filename)},{default:(0,i.w5)((()=>[xe])),_:2},1032,["onClick"]),(0,i.Wm)(_,{key:"find",onClick:e=>s.showItemInFolder(t.baseInfo.path+t.baseInfo.filename)},{default:(0,i.w5)((()=>[Pe])),_:2},1032,["onClick"]),(0,i.Wm)(_,{key:"delete",onClick:e=>s.trashItem(t.baseInfo.path+t.baseInfo.filename)},{default:(0,i.w5)((()=>[Ce])),_:2},1032,["onClick"]),"img"===t.type?((0,i.wg)(),(0,i.j4)(_,{key:"edit",onClick:e=>s.editPicture(t.baseInfo.path+t.baseInfo.filename)},{default:(0,i.w5)((()=>[Fe])),_:2},1032,["onClick"])):(0,i.kq)("",!0),"img"===t.type?((0,i.wg)(),(0,i.j4)(_,{key:"setWallpaper",onClick:e=>s.setWallPaper(t.baseInfo.path+t.baseInfo.filename)},{default:(0,i.w5)((()=>[Te])),_:2},1032,["onClick"])):(0,i.kq)("",!0)])),_:2},1024)])),default:(0,i.w5)((()=>[(0,i._)("div",{class:(0,M.C_)(["sub-folder-wrapper",{selected:a.selectedKey===t}]),onClick:e=>a.selectedKey=t,style:(0,M.j5)({width:e.itemSize+"px",height:e.itemSize+50+"px"})},[t.extCanOpenInside?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},["pwd"===t.type?((0,i.wg)(),(0,i.j4)(l,{key:0,onSetSelected:e=>s.selectItem(t),onOpenDetail:s.openDetail,content:t},null,8,["onSetSelected","onOpenDetail","content"])):(0,i.kq)("",!0),"img"===t.type?((0,i.wg)(),(0,i.j4)(c,{key:1,onSetSelected:e=>s.selectItem(t),onOpenDetail:s.openDetail,content:t},null,8,["onSetSelected","onOpenDetail","content"])):(0,i.kq)("",!0),"url"===t.type?((0,i.wg)(),(0,i.j4)(d,{key:2,onSetSelected:e=>s.selectItem(t),onOpenDetail:s.openDetail,content:t},null,8,["onSetSelected","onOpenDetail","content"])):(0,i.kq)("",!0),"video"===t.type?((0,i.wg)(),(0,i.j4)(u,{key:3,onSetSelected:e=>s.selectItem(t),onOpenDetail:s.openDetail,content:t},null,8,["onSetSelected","onOpenDetail","content"])):(0,i.kq)("",!0),t.meta.new?((0,i.wg)(),(0,i.iD)("div",Ie,"New")):(0,i.kq)("",!0)],64)):((0,i.wg)(),(0,i.j4)(p,{key:1,onSetSelected:e=>s.selectItem(t),onOpenDetail:s.openPath,content:t},null,8,["onSetSelected","onOpenDetail","content"]))],14,De)])),_:2},1024)))),128))])])}const Oe=(0,i._)("div",{class:"type-label"},"密码",-1),Ee={class:"folder-name"},Me={class:"ext"};function je(e,t,o,n,a,s){const r=(0,i.up)("a-image");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{class:"cover-wrapper",style:(0,M.j5)([{position:"relative"},{width:e.itemSize+"px",height:e.itemSize+"px"}])},[Oe,(0,i.Wm)(r,{style:(0,M.j5)([{width:e.itemSize+"px",height:e.itemSize+"px"},{background:"#f1f1f1"}]),preview:!1,class:"sub-folder-cover",src:"./img/type/pwd.svg"},null,8,["style"])],4),(0,i._)("div",Ee,(0,M.zw)(o.content.name)+"-"+(0,M.zw)(o.content.extData.username),1),(0,i._)("div",Me,(0,M.zw)(o.content.extData.domain),1)],64)}var We={name:"TypePwd",props:{content:Object},computed:{...(0,r.rn)({itemSize:e=>e.ui.itemSize})}};const Ue=(0,_.Z)(We,[["render",je]]);var ze=Ue;const Ae=(0,i._)("div",{class:"type-label"},"图片",-1),Ze={class:"folder-name",style:{position:"relative"}},Re={class:"ext"};function Le(e,t,o,a,s,r){const l=(0,i.up)("a-image"),c=(0,i.up)("zoom-in-outlined");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{onDblclick:t[1]||(t[1]=e=>r.openDetail(o.content)),onClick:t[2]||(t[2]=(...e)=>r.setSelected&&r.setSelected(...e)),class:"cover-wrapper",style:(0,M.j5)([{position:"relative"},{width:e.itemSize+"px",height:e.itemSize+"px"}])},[Ae,(0,i.Wm)(l,{style:(0,M.j5)([{width:e.itemSize+"px",height:e.itemSize+"px",objectFit:"cover"},{background:"#f1f1f1"}]),preview:!1,class:"sub-folder-cover content-cover",src:r.cover},null,8,["style","src"]),(0,i._)("div",{class:"type-label preview",onClick:t[0]||(t[0]=(0,n.iM)((()=>{}),["stop"]))},[(0,i.Wm)(c)])],36),(0,i._)("div",Ze,(0,M.zw)(o.content.name),1),(0,i._)("div",Re,[(0,i._)("span",null,(0,M.zw)(o.content.ext.substr(o.content.ext.lastIndexOf(".")+1)),1),(0,i.Uk)(" "+(0,M.zw)(o.content.extData.width)+" X "+(0,M.zw)(o.content.extData.height),1)])],64)}var Be=o(2493),$e=o(5451),Ke={name:"TypeImg",emits:["setSelected","openDetail"],components:{ZoomInOutlined:Be.Z},props:{content:Object},data(){return{contentTypeHelper:$e.Z}},computed:{...(0,r.rn)({itemSize:e=>e.ui.itemSize}),cover(){return this.content.cover.startsWith("/")?"file://"+this.$store.state.config.storePath+this.content.cover:this.content.cover}},methods:{openDetail(e){this.$emit("openDetail",e)},setSelected(){this.$emit("setSelected")}}};const qe=(0,_.Z)(Ke,[["render",Le]]);var He=qe;const Ve={class:"type-label"},Ne={class:"folder-name"},Ye={class:"ext"};function Je(e,t,o,a,s,r){const l=(0,i.up)("a-image"),c=(0,i.up)("zoom-in-outlined");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{onDblclick:t[1]||(t[1]=e=>r.openDetail(o.content)),onClick:t[2]||(t[2]=(...e)=>r.setSelected&&r.setSelected(...e)),class:"cover-wrapper",style:(0,M.j5)([{position:"relative"},{width:e.itemSize+"px",height:e.itemSize+"px"}])},[(0,i._)("div",Ve,(0,M.zw)(r.typeAlias),1),(0,i.Wm)(l,{style:(0,M.j5)([{width:e.itemSize+"px",height:e.itemSize+"px",objectFit:"cover",padding:.2*e.itemSize+"px"},{background:"white"}]),preview:!1,class:"sub-folder-cover content-cover",src:r.contentCover(o.content)},null,8,["style","src"]),(0,i._)("div",{class:"type-label preview",onClick:t[0]||(t[0]=(0,n.iM)((()=>{}),["stop"]))},[(0,i.Wm)(c)])],36),(0,i._)("div",Ne,(0,M.zw)(o.content.name),1),(0,i._)("div",Ye,[(0,i._)("span",null,(0,M.zw)(o.content.ext.substr(o.content.ext.lastIndexOf(".")+1)),1),(0,i.Uk)(" "+(0,M.zw)(s.tools.convertToText(o.content.baseInfo.size)),1)])],64)}var Ge={name:"TypeOther",emits:["setSelected","openDetail"],components:{ZoomInOutlined:Be.Z},props:{content:Object},computed:{...(0,r.rn)({itemSize:e=>e.ui.itemSize}),typeAlias(){try{return $e.Z.getContentTypeAliasFromExt(this.content.ext)}catch(e){return console.log("未识别类型"),"未识别"}}},data(){return{tools:l.Z}},methods:{getExtNoDotFromFilename:$e.Z.getExtNoDotFromFilename,contentCover(e){let t="other/"+e.type;switch(console.log(e.ext),e.ext){case".pdf":t="pdf";break;case".ppt":case".pptx":t="ppt";break;case".doc":case".docx":t="word";break;case".xls":case".xlsx":t="excel";break;case".zip":case".7z":case".rar":case".tar.gz":t="zip"}return"./img/type/"+t+".svg"},openDetail(e){this.$emit("openDetail",e)},...(0,r.OI)({focusItem:"ui/focusItem"}),setSelected(){this.$emit("setSelected")}}};const Xe=(0,_.Z)(Ge,[["render",Je]]);var Qe=Xe;const et={class:"folder-name"},tt={class:"ext"};function ot(e,t,o,n,a,s){const r=(0,i.up)("a-progress");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{onDblclick:t[1]||(t[1]=e=>s.openDetail(o.content)),onClick:t[2]||(t[2]=(...e)=>s.setSelected&&s.setSelected(...e)),onMouseenter:t[3]||(t[3]=(...e)=>s.handleMouseEnter&&s.handleMouseEnter(...e)),onMouseleave:t[4]||(t[4]=(...e)=>s.handleMouseLeave&&s.handleMouseLeave(...e)),onMousemove:t[5]||(t[5]=(...e)=>s.handleMouseMove&&s.handleMouseMove(...e)),class:"cover-wrapper",style:(0,M.j5)([{position:"relative"},{width:e.itemSize+"px",height:e.itemSize+"px"}])},[(0,i._)("div",{class:"type-label",style:(0,M.j5)({display:"none"===this.progressVisible?"inline-block":"none"})},"视频",4),(0,i._)("span",{style:(0,M.j5)([{position:"absolute",top:"5px","z-index":"99","margin-inline":"5px"},{width:e.itemSize-10+"px",display:a.progressVisible}])},[(0,i.Wm)(r,{percent:a.progress,size:"small",showInfo:!1},null,8,["percent"])],4),(0,i._)("video",{onDblclick:t[0]||(t[0]=e=>s.openDetail(o.content)),controls:"",ref:"videoPlayer",class:"video-js content-cover",style:{position:"absolute",top:"5px"}},null,544)],36),(0,i._)("div",et,(0,M.zw)(o.content.name),1),(0,i._)("div",tt,[(0,i._)("span",null,(0,M.zw)(o.content.ext.substr(o.content.ext.lastIndexOf(".")+1)),1),(0,i.Uk)(" "+(0,M.zw)(a.duration),1)])],64)}var nt=o(2595);window.$video=nt.Z;var at={name:"TypeVideo",emits:["setSelected","openDetail"],props:{content:Object},components:{},computed:{...(0,r.rn)({itemSize:e=>e.ui.itemSize})},data(){return{duration:"loading",progressVisible:"none",player:null,loading:!0,videoOptions:{autoplay:!1,controls:!1,loop:!0,muted:!0,aspectRatio:"1:1",poster:"",width:this.itemSize,height:this.itemSize,fullscreen:{options:{navigationUI:"hide"}},sources:""},progress:0}},created(){this.videoOptions.sources="file://"+this.content.baseInfo.path+this.content.baseInfo.filename,this.videoOptions.poster=this.poster},mounted(){let e=this;this.player=window.$video(this.$refs.videoPlayer,this.videoOptions,(function(){this.on("error",(function(){})),this.on("canplaythrough",(function(){e.loading=!1})),this.on("canplay",(()=>{let t=this.duration();this.play(),e.duration=(t/60).toFixed(0)+"分"+(t-60*(t/60).toFixed(0)).toFixed(0)+"秒",setTimeout((()=>this.pause()),5e3)}))}))},methods:{openDetail(e){this.$emit("openDetail",e)},setSelected(){this.$emit("setSelected")},handleMouseEnter(){this.progressVisible="inline-block",this.player&&this.player.play(),this.$emit("videoTime",this.player.duration())},handleMouseLeave(){this.progressVisible="none",this.player&&this.player.pause()},handleMouseMove(e){var t=this.$refs.videoPlayer.getBoundingClientRect().left,o=e.clientX,n=this.$refs.videoPlayer.clientWidth,a=(o-t)/n,i=this.player.duration();this.player.currentTime(i*a),this.progress=(100*a).toFixed(0),this.$emit("videoratio",a)}}};const it=(0,_.Z)(at,[["render",ot]]);var st=it;const rt=(0,i._)("div",{class:"type-label"},"网页",-1),lt=["src"],ct={class:"folder-name",style:{position:"relative"}},dt={class:"ext"};function ut(e,t,o,n,a,s){const r=(0,i.up)("a-image");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{onDblclick:t[0]||(t[0]=e=>s.openDetail(o.content)),onClick:t[1]||(t[1]=(...e)=>s.setSelected&&s.setSelected(...e)),class:"cover-wrapper",style:(0,M.j5)([{position:"relative"},{width:e.itemSize+"px",height:e.itemSize+"px"}])},[rt,(0,i.Wm)(r,{onerror:"this.src='./img/default.svg'",style:(0,M.j5)([{width:e.itemSize+"px",height:e.itemSize+"px",objectFit:"cover"},{background:"#f1f1f1"}]),preview:!1,class:"sub-folder-cover content-cover",src:s.cover},null,8,["style","src"]),(0,i._)("img",{onerror:"this.src='./img/default.svg'",src:o.content.extData.favicon,class:"favicon",style:{bottom:"-10px",right:"-10px"}},null,8,lt)],36),(0,i._)("div",ct,(0,M.zw)(o.content.name),1),(0,i._)("div",dt,[(0,i._)("span",null,(0,M.zw)(o.content.href),1)])],64)}var pt={name:"TypeUrl",emits:["setSelected","openDetail"],components:{},props:{content:Object},data(){return{contentTypeHelper:$e.Z}},computed:{...(0,r.rn)({itemSize:e=>e.ui.itemSize}),cover(){return this.content.cover?this.content.cover.startsWith("/")?"file://"+this.$store.state.config.storePath+this.content.cover:this.content.cover:""}},methods:{openDetail(e){this.$emit("openDetail",e)},setSelected(){this.$emit("setSelected")}}};const _t=(0,_.Z)(pt,[["render",ut]]);var mt=_t,ht={name:"ContentItemList",components:{TypePwd:ze,TypeImg:He,TypeOther:Qe,TypeVideo:st,TypeUrl:mt},props:{},data(){return{selectedKey:null}},methods:{open:ee.Z.openExternal,showItemInFolder:ee.Z.showItemInFolder,selectItem(e){this.$store.commit("ui/focusItem",{type:"content",data:e})},openPath(e){ee.Z.openExternal(e.baseInfo.path+"/"+e.baseInfo.filename)},openDetail(e){if("img"===e.type)this.$router.push({path:"/main/img/"+encodeURIComponent(e.baseInfo.path+"/"+e.baseInfo.filename)});else{if("url"!==e.type)return;ee.Z.addTab(e.href)}},trashItem(e){let t=this;fe.Z.confirm({title:"删除确认",content:"是否确认删除内容？此操作会删除内容的其他信息，此操作无法恢复。",okText:"确认",cancelText:"取消",onOk:()=>{ee.Z.trashItem(e),setTimeout((()=>{t.$store.dispatch("ui/changeTab",{name:"all"})}),200),this.$message.success("删除内容成功。")}})},setWallPaper(e){ee.Z.setWallPaper(e),this.$message.success("设置为桌面默认壁纸成功，如果当前桌面单独设置了壁纸，则仍然以原壁纸显示。未设置单独壁纸的桌面将以新壁纸显示。")},editPicture(e){ee.Z.handleFileAssign("image",{filePath:"file://"+e})}},computed:{...(0,r.rn)({subFolders:e=>e.subFolder.subFolders,itemSize:e=>e.ui.itemSize,contents:e=>e.content.contents}),...(0,r.Se)("content",["contentsOrderByCreateTime"])}};const ft=(0,_.Z)(ht,[["render",Se]]);var bt=ft,gt={name:"ContentList",props:{msg:String},mounted(){},methods:{},components:{SubFolderList:ve,ContentItemList:bt}};const vt=(0,_.Z)(gt,[["render",ae],["__scopeId","data-v-85d47c9a"]]);var wt=vt,kt={name:"ContentListPage",components:{ContentHeader:ne,ContentList:wt}};const yt=(0,_.Z)(kt,[["render",E]]);var Dt=yt;const It=e=>((0,i.dD)("data-v-e2a6d5e0"),e=e(),(0,i.Cn)(),e),xt={style:{background:"#171717"}},Pt={style:{height:"54px"}},Ct={style:{float:"right",width:"200px",display:"flex"}},Ft={style:{position:"absolute",right:"20px",top:"10px","z-index":"9"}},Tt=(0,i.Uk)("保存"),St=(0,i.Uk)("另存为"),Ot=It((()=>(0,i._)("div",{id:"tui-image-editor"},null,-1)));function Et(e,t,o,n,a,s){const r=(0,i.up)("ArrowLeftOutlined"),l=(0,i.up)("a-button"),c=(0,i.up)("a-layout-content");return(0,i.wg)(),(0,i.iD)("div",xt,[(0,i._)("div",Pt,[(0,i.Wm)(r,{class:"action-icon",style:{color:"white"},onClick:t[0]||(t[0]=e=>this.$router.back())}),(0,i._)("div",Ct,[(0,i._)("div",Ft,[(0,i.Wm)(l,{shape:"round",onClick:s.save,style:{"margin-right":"10px"}},{default:(0,i.w5)((()=>[Tt])),_:1},8,["onClick"]),(0,i.Wm)(l,{shape:"round",onClick:t[1]||(t[1]=e=>s.saveAs()),type:"primary",style:{}},{default:(0,i.w5)((()=>[St])),_:1})])])]),(0,i.Wm)(c,{style:{background:"white",height:"calc(100vh - 54px)",position:"relative"}},{default:(0,i.w5)((()=>[Ot])),_:1})])}o(2801),o(8675),o(3462);var Mt=o(6380),jt=o.n(Mt),Wt=o(5358);const Ut={ZoomIn:"放大",ZoomOut:"缩小",Hand:"手掌",History:"历史",Resize:"调整宽高",Crop:"裁剪",DeleteAll:"全部删除",Delete:"删除",Undo:"撤销",Redo:"反撤销",Reset:"重置",Flip:"镜像",Rotate:"旋转",Draw:"画",Shape:"形状标注",Icon:"图标标注",Text:"文字标注",Mask:"遮罩",Filter:"滤镜",Bold:"加粗",Italic:"斜体",Underline:"下划线",Left:"左对齐",Center:"居中",Right:"右对齐",Color:"颜色","Text size":"字体大小",Custom:"自定义",Square:"正方形",Apply:"应用",Cancel:"取消","Flip X":"X 轴","Flip Y":"Y 轴",Range:"区间",Stroke:"描边",Fill:"填充",Circle:"圆",Triangle:"三角",Rectangle:"矩形",Free:"曲线",Straight:"直线",Arrow:"箭头","Arrow-2":"箭头2","Arrow-3":"箭头3","Star-1":"星星1","Star-2":"星星2",Polygon:"多边形",Location:"定位",Heart:"心形",Bubble:"气泡","Custom icon":"自定义图标","Load Mask Image":"加载蒙层图片",Grayscale:"灰度",Blur:"模糊",Sharpen:"锐化",Emboss:"浮雕","Remove White":"除去白色",Distance:"距离",Brightness:"亮度",Noise:"噪音","Color Filter":"彩色滤镜",Sepia:"棕色",Sepia2:"棕色2",Invert:"负片",Pixelate:"像素化",Threshold:"阈值",Tint:"色调",Multiply:"正片叠底",Blend:"混合色",Width:"宽度",Height:"高度","Lock Aspect Ratio":"锁定宽高比例"},zt={"common.bi.image":"","common.bisize.width":"0px","common.bisize.height":"0px","common.backgroundImage":"none","common.backgroundColor":"#f3f4f6","common.border":"1px solid #333","header.backgroundImage":"none","header.backgroundColor":"#f3f4f6","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"NotoSans, sans-serif","loadButton.fontSize":"12px","loadButton.display":"none","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"NotoSans, sans-serif","downloadButton.fontSize":"12px","downloadButton.display":"none","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#ccc","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#858585","submenu.normalLabel.color":"#858585","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"1px solid #ccc","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"};var At={name:"ImageDetailPage",components:{ArrowLeftOutlined:Wt.Z},data(){return{path:"",instance:null}},mounted(){console.log("getpath",this.$route.params["path"]),this.path="file://"+this.$route.params["path"],this.init(this.path)},methods:{init(e){return this.instance=new(jt())(document.querySelector("#tui-image-editor"),{includeUI:{loadImage:{path:e,name:"图片"},initMenu:"draw",menuBarPosition:"bottom",theme:{"common.bi.image":"","common.bisize.width":"0px","common.bisize.height":"0px","loadButton.display":"none","downloadButton.display":"none"},locale:Ut},initMenu:"rotate",cssMaxWidth:1e3,cssMaxHeight:600}),zt},save(){const e=this.instance.toDataURL(),t=window.atob(e.split(",")[1]),o=new Uint8Array(t.length);for(let i=0;i<t.length;i++)o[i]=t.charCodeAt(i);const n=new Blob([o],{type:"image/png"}),a=new FormData;a.append("image",n)},saveAs(){}}};const Zt=(0,_.Z)(At,[["render",Et],["__scopeId","data-v-e2a6d5e0"]]);var Rt=Zt;const Lt=e=>((0,i.dD)("data-v-1d170b1e"),e=e(),(0,i.Cn)(),e),Bt={style:{height:"54px"}},$t=(0,i.Uk)(" 密码 "),Kt={style:{float:"right",width:"300px",display:"flex"}},qt={style:{width:"200px"}},Ht={style:{flex:"1"}},Vt={href:"tsb://app/redirect/?package=com.thisky.import&url=/",title:"导入密码"},Nt={style:{padding:"15px"}},Yt={key:0},Jt={key:1,class:"editable-row-operations"},Gt={key:0},Xt=["onClick"],Qt=Lt((()=>(0,i._)("a",null,"取消",-1))),eo={key:1},to=["onClick"];function oo(e,t,o,n,a,s){const r=(0,i.up)("ArrowLeftOutlined"),l=(0,i.up)("a-slider"),c=(0,i.up)("ImportOutlined"),d=(0,i.up)("EditOutlined"),u=(0,i.up)("a-input"),p=(0,i.up)("a-popconfirm"),_=(0,i.up)("a-table");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",Bt,[(0,i.Wm)(r,{class:"action-icon",onClick:t[0]||(t[0]=e=>this.$router.back())}),$t,(0,i._)("div",Kt,[(0,i._)("div",qt,[(0,i.Wm)(l)]),(0,i._)("div",Ht,[(0,i._)("a",Vt,[(0,i.Wm)(c,{class:"action-icon"})]),(0,i.Wm)(d,{class:"action-icon"})])])]),(0,i._)("div",Nt,[(0,i.Wm)(_,{columns:a.columns,dataSource:a.dataSource,pagination:!1,rowClassName:(e,t)=>t%2===1?"table-striped":null,size:a.size,bordered:"",class:"ant-table-striped",rowKey:"id"},{bodyCell:(0,i.w5)((({column:e,text:t,record:o})=>[["title","username","pwdText"].includes(e.dataIndex)?((0,i.wg)(),(0,i.iD)("div",Yt,[a.editableData[o.key]?((0,i.wg)(),(0,i.j4)(u,{key:0,value:a.editableData[o.key][e.dataIndex],"onUpdate:value":t=>a.editableData[o.key][e.dataIndex]=t,style:{margin:"-5px 0"}},null,8,["value","onUpdate:value"])):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,M.zw)(t),1)],64))])):"action"===e.dataIndex?((0,i.wg)(),(0,i.iD)("div",Jt,[a.editableData[o.key]?((0,i.wg)(),(0,i.iD)("span",Gt,[(0,i._)("a",{onClick:e=>s.save(o.key)},"保存",8,Xt),(0,i.Wm)(p,{title:"确认保存？",onConfirm:e=>s.cancel(o.key)},{default:(0,i.w5)((()=>[Qt])),_:2},1032,["onConfirm"])])):((0,i.wg)(),(0,i.iD)("span",eo,[(0,i._)("a",{onClick:e=>s.edit(o.key)},"编辑",8,to)]))])):(0,i.kq)("",!0)])),_:1},8,["columns","dataSource","rowClassName","size"])])])}var no=o(3875),ao=o(6468),io={name:"PasswordListPage",components:{ArrowLeftOutlined:Wt.Z,ImportOutlined:no.Z},methods:{edit(e){this.editableData[e]=(0,ao.Z)(this.dataSource.value.filter((t=>e===t.key))[0])},save(e){Object.assign(this.dataSource.value.filter((t=>e===t.key))[0],this.editableData[e]),delete this.editableData[e]},cancel(e){delete this.editableData[e]}},data(){return{editableData:{},size:"middle",columns:[{title:"序号",dataIndex:"id",key:"id",width:50},{title:"站点",dataIndex:"domain",key:"domain",sorter:!0,width:200},{title:"标题",dataIndex:"title",key:"title",sorter:!0},{title:"级别",dataIndex:"starText",key:"starText",sorter:!0,width:100,filters:[{text:"⭐⭐⭐️",value:"3"},{text:"⭐⭐",value:"2"},{text:"⭐",value:"1"}]},{title:"用户名",dataIndex:"username",key:"username",sorter:!0},{title:"密码",dataIndex:"pwdText",key:"pwdText"},{title:"操作",dataIndex:"action",key:"action"}],dataSource:[]}},created(){let e=this;ee.Z.fetchAllPwds().then((t=>{let o=[],n=1;o=t.map((e=>(e.id=n,n++,e.pwdText="···",e.pwd=e.password,e.star=String(1),e.action="",e))),e.dataSource=o})).catch((t=>{e.$message.error("获取密码失败，错误原因："+t+"。")}))}};const so=(0,_.Z)(io,[["render",oo],["__scopeId","data-v-1d170b1e"]]);var ro=so;const lo={class:"input",style:{height:"200px",position:"relative",background:"rgba(0,0,0,0.23)","border-radius":"6px"}},co=["src"],uo={style:{"padding-bottom":"10px"}},po={class:"wrapper-scroller",style:{height:"calc(100vh - 135px )",overflow:"auto"}},_o={style:{position:"fixed",bottom:"0","padding-bottom":"5px","font-size":"12px",color:"#999","max-width":"300px"}},mo={key:0},ho={key:1},fo=(0,i.Uk)("确定");function bo(e,t,o,n,a,s){const r=(0,i.up)("a-image"),l=(0,i.up)("a-textarea"),c=(0,i.up)("a-select"),d=(0,i.up)("a-col"),u=(0,i.up)("a-input-search"),p=(0,i.up)("TreeList"),_=(0,i.up)("a-tab-pane"),m=(0,i.up)("a-tabs"),h=(0,i.up)("a-button"),f=(0,i.up)("a-row");return(0,i.wg)(),(0,i.j4)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{flex:"220px",class:"wrapper-scroller",style:{height:"100vh",overflow:"auto","background-color":"#f1f1f1",padding:"10px","box-shadow":"0 0 8px rgba(65,65,65,0.49)"}},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i._)("div",lo,[(0,i.Wm)(r,{height:200,width:200,src:a.addContentInfo.cover,style:{"object-fit":"scale-down",height:"200px !important","border-radius":"6px","box-shadow":"0 0 8px rgba(73, 73, 73, 0.4)"}},null,8,["src"]),(0,i._)("img",{src:a.addContentInfo.extData.favicon,class:"favicon"},null,8,co)])]),(0,i._)("div",null,[(0,i.Wm)(l,{class:"input","place-holder":"输入标题",value:a.addContentInfo.name},null,8,["value"])]),(0,i._)("div",null,[(0,i.Wm)(l,{class:"input","place-holder":"网址",value:a.addContentInfo.href},null,8,["value"])]),(0,i._)("div",null,[(0,i.Wm)(l,{class:"input","place-holder":"添加备注",value:a.addContentInfo.remark},null,8,["value"])]),(0,i.Wm)(c,{value:e.value,"onUpdate:value":t[0]||(t[0]=t=>e.value=t),mode:"tags",style:{width:"100%"},placeholder:"选择特殊标记",options:a.options,onChange:e.handleChange},null,8,["value","options","onChange"])])),_:1}),(0,i.Wm)(d,{flex:"auto",style:{padding:"10px"}},{default:(0,i.w5)((()=>[(0,i._)("div",uo,[(0,i.Wm)(u,{value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.value=t),placeholder:"快速搜索文件夹",style:{width:"100%"},onSearch:e.onSearch},null,8,["value","onSearch"])]),(0,i.Wm)(m,{size:"small",centered:"",animated:!1},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{key:"my",tab:"我的收藏夹",style:{padding:"0 !important"}},{default:(0,i.w5)((()=>[(0,i._)("div",po,[(0,i.Wm)(p,{onOnSelect:s.setSelectedFolder,treeData:e.userFolders},null,8,["onOnSelect","treeData"])])])),_:1})])),_:1}),(0,i._)("div",_o,[a.selectedFolder?((0,i.wg)(),(0,i.iD)("div",mo," 收藏到：/"+(0,M.zw)(a.selectedFolder),1)):((0,i.wg)(),(0,i.iD)("div",ho,"添加到收集箱"))]),(0,i.Wm)(h,{onClick:s.save,style:{position:"fixed",right:"10px"},size:"small",type:"primary"},{default:(0,i.w5)((()=>[fo])),_:1},8,["onClick"])])),_:1})])),_:1})}const go=(0,i.Uk)(" 请输入同级文件夹的名称， 此文件夹将会创建到此文件夹下 "),vo={class:"pathBlock"},wo=(0,i.Uk)(" 请输入同级文件夹的名称， 此文件夹将会创建到此文件夹下 "),ko={class:"pathBlock"},yo=(0,i.Uk)(" 您正在重命名以下文件夹的名称 "),Do={class:"pathBlock"},Io=(0,i.Uk)(" 个人收藏"),xo={key:0},Po=(0,i.Uk)("创建文件夹（同级）"),Co=(0,i.Uk)("创建子文件夹"),Fo=(0,i.Uk)("定位"),To=(0,i.Uk)("重命名"),So=(0,i.Uk)("删除文件夹"),Oo=(0,i.Uk)("刷新列表");function Eo(e,t,o,n,a,s){const r=(0,i.up)("PromptModal"),l=(0,i.up)("HomeOutlined"),c=(0,i.up)("a-empty"),d=(0,i.up)("a-menu-item"),u=(0,i.up)("a-menu-divider"),p=(0,i.up)("a-menu"),_=(0,i.up)("a-dropdown"),m=(0,i.up)("a-directory-tree");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(r,{width:400,title:"创建同级文件夹",visible:a.promptVisible,onHandleOk:s.handleCreateFolder,onChangeVisible:t[0]||(t[0]=e=>this.promptVisible=e)},{message:(0,i.w5)((()=>[go,(0,i._)("blockquote",vo,(0,M.zw)(this.selectedDir),1)])),_:1},8,["visible","onHandleOk"]),(0,i.Wm)(r,{message:"请输入子文件夹名称",title:"创建子文件夹",visible:a.promptVisibleCreateChild,onHandleOk:t[1]||(t[1]=e=>s.handleCreateSubFolder()),onChangeVisible:t[2]||(t[2]=e=>this.promptVisibleCreateChild=e)},{message:(0,i.w5)((()=>[wo,(0,i._)("blockquote",ko,(0,M.zw)(this.selectedDir),1)])),_:1},8,["visible"]),(0,i.Wm)(r,{width:400,title:"重命名文件夹",defaultValue:a.renameFolderName,visible:a.promptRenameVisible,onHandleOk:s.handleRenameFolder,onChangeVisible:t[3]||(t[3]=e=>this.promptRenameVisible=e)},{message:(0,i.w5)((()=>[yo,(0,i._)("blockquote",Do,(0,M.zw)(this.selectedDir),1)])),_:1},8,["defaultValue","visible","onHandleOk"]),(0,i._)("div",{class:(0,M.C_)(["tree-root",{"active-root":""===this.selectedKeys[0]}]),style:{"font-size":"13px","margin-top":"5px",cursor:"pointer"},onClick:t[4]||(t[4]=e=>s.select([""]))},[(0,i.Wm)(l),Io],2),0===o.treeData.length?((0,i.wg)(),(0,i.j4)(c,{key:0,description:"",image:a.simpleImage},null,8,["image"])):((0,i.wg)(),(0,i.j4)(m,{key:1,selectedKeys:a.selectedKeys,ref:"tree",class:"tree","field-names":o.fields,"tree-data":o.treeData,onSelect:s.select},{title:(0,i.w5)((({path:e,parentDir:t,relativePath:o,title:n,contentCount:a,dirname:r})=>[(0,i.Wm)(_,{trigger:["contextmenu"]},{overlay:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{key:"create",onClick:e=>s.createFolder(t)},{default:(0,i.w5)((()=>[Po])),_:2},1032,["onClick"]),(0,i.Wm)(d,{key:"createChild",onClick:e=>s.createSubFolder(o)},{default:(0,i.w5)((()=>[Co])),_:2},1032,["onClick"]),(0,i.Wm)(d,{onClick:e=>s.openDir(o),key:"locate"},{default:(0,i.w5)((()=>[Fo])),_:2},1032,["onClick"]),(0,i.Wm)(u),(0,i.Wm)(d,{onClick:e=>s.renameFolder(o,r),key:"rename"},{default:(0,i.w5)((()=>[To])),_:2},1032,["onClick"]),(0,i.Wm)(d,{onClick:t=>s.removeDir(e),key:"remove"},{default:(0,i.w5)((()=>[So])),_:2},1032,["onClick"]),(0,i.Wm)(u),(0,i.Wm)(d,{onClick:s.refresh,key:"locate"},{default:(0,i.w5)((()=>[Oo])),_:1},8,["onClick"])])),_:2},1024)])),default:(0,i.w5)((()=>[(0,i._)("span",null,[(0,i.Uk)((0,M.zw)(n)+" ",1),Number(a>0)?((0,i.wg)(),(0,i.iD)("span",xo,"("+(0,M.zw)(a)+")",1)):(0,i.kq)("",!0)])])),_:2},1024)])),_:1},8,["selectedKeys","field-names","tree-data","onSelect"]))],64)}function Mo(e,t,o,n,a,s){const r=(0,i.up)("a-input"),l=(0,i.up)("a-modal");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(l,{visible:o.visible,title:o.title,width:o.width,onOk:s.handleOk,okText:"确定",cancelText:"取消",onCancel:s.visibleChange},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.WI)(e.$slots,"message",{},(()=>[(0,i._)("p",null,(0,M.zw)(o.message),1)]))]),(0,i._)("div",null,[(0,i.Wm)(r,{ref:"input",defaultValue:o.defaultValue},null,8,["defaultValue"])])])),_:3},8,["visible","title","width","onOk","onCancel"])])}var jo={name:"PromptModal",props:{visible:{type:Boolean,default:!1},width:{type:Number,default:300},message:{type:String,default:"请输入内容"},title:{type:String,default:"输入"},defaultValue:{type:String,default:""}},model:{event:["changeVisible","handleOk"]},watch:{defaultValue:{handler(e){this.$nextTick((()=>{this.$refs.input.setValue(e),setTimeout((()=>{this.$refs.input.input.select()}),100)}))}}},data(){return{}},mounted(){},methods:{handleOk(e){this.$emit("handleOk",{e:e,value:this.$refs.input.input.value,input:this.$refs.input})},visibleChange(){this.$emit("changeVisible",!this.visible)}},computed:{}};const Wo=(0,_.Z)(jo,[["render",Mo]]);var Uo=Wo,zo=o(5925),Ao=o(5050),Zo={name:"TreeList",props:["treeData","fields"],components:{PromptModal:Uo,HomeOutlined:Ao.Z},emit:["selected"],data(){return{promptVisible:!1,promptVisibleCreateChild:!1,promptRenameVisible:!1,selectedDir:"",renameFolderName:"",simpleImage:zo.Z.PRESENTED_IMAGE_SIMPLE,selectedKeys:[]}},methods:{refresh(){window.app.$store.dispatch("subFolder/updateTreeData")},openDir(e){ee.Z.openDir(this.$store.state.config.storePath+e)},select(e,t){""===e[0]&&(this.selectedKeys=[]),this.selectedKeys=e,this.$emit("onSelect",e,t)},createFolder(e){this.selectedDir=e,this.promptVisible=!0},handleCreateFolder(e){ee.Z.createDir(this.$store.state.config.storePath+this.selectedDir,e.value,this.$message),e.input.setValue(""),this.promptVisible=!1},renameFolder(e,t){this.selectedDir="/"+e,this.renameFolderName=t,this.promptRenameVisible=!0},handleRenameFolder(e){ee.Z.renameFolder(this.selectedDir,e.input.input.value),e.input.setValue(""),this.promptRenameVisible=!1},createSubFolder(e){this.selectedDir="/"+e,this.promptVisible=!0},handleCreateSubFolder(e){ee.Z.createDir(this.$store.state.config.storePath+this.selectedDir,e.value,this.$message),e.input.setValue(""),this.promptVisible=!1},removeDir(e){fe.Z.confirm({title:"删除确认",content:"是否确认删除文件夹？此操作将把本地文件夹移入计算机的回收站。",okText:"确认",cancelText:"取消",onOk:()=>{ee.Z.trashItem(e),setTimeout((function(){window.app.$store.dispatch("subFolder/updateTreeData")}),1e3)}})}}};const Ro=(0,_.Z)(Zo,[["render",Eo],["__scopeId","data-v-79aadbd4"]]);var Lo=Ro,Bo=o(4117),$o=o(8267),Ko={name:"PopSaveToFolderPage",data(){return{selectedFolder:"",options:[{value:"toRead",label:"稍后读"},{value:"toDo",label:"代办"},{value:"other",label:"其他"}],addContentInfo:{name:"",href:"",cover:"",extData:{}}}},components:{TreeList:Lo},methods:{setSelectedFolder(e,t){console.log(e,t),this.selectedFolder=e[0]},updateCapture(e){this.addContentInfo.cover="file://"+e.url},countDown(){let e=3;const t=fe.Z.success({title:"添加收藏成功",content:`弹窗将在${e}秒后自动关闭.`,okText:"好的"}),o=setInterval((()=>{e-=1,t.update({content:`弹窗将在${e}秒后自动关闭.`})}),1e3);setTimeout((()=>{clearInterval(o),t.destroy(),ee.Z.hideFavPop()}),1e3*e)},save(){let e=$o.Z.filterFilename(this.addContentInfo.name);if(e.hadMapped.length)return this.addContentInfo.name=e.filename,void window.app.$message.error({content:"文件名不可包含以下文字: "+e.hadMapped.join(" ")+" 已为您自动替换。请确认后重新提交。"});console.log("文件名通过检测"),window.libDb.reload(),Bo.Z.addLink(this.selectedFolder,this.addContentInfo.name,this.addContentInfo.href,this.addContentInfo.cover,this.addContentInfo.extData.favicon,this.addContentInfo.remark)&&(window.app.$store.dispatch("subFolder/updateTreeData"),this.countDown())}},mounted(){this.$store.dispatch("ui/init"),ee.Z.bindAddPageInfoListener((e=>{let t={};t.name=$o.Z.filterFilename(e.title).filename,t.href=e.url,t.remark="",t.extData={},null===e.favicon?t.extData.favicon="":t.extData.favicon=e.favicon.url,this.addContentInfo=t}),this.updateCapture),window.getAddPageInfo=()=>{ee.Z.getAddPageInfo()},ee.Z.noticeAddPageReady()},computed:{...(0,r.rn)({userFolders:e=>e.subFolder.myAllFolders})}};const qo=(0,_.Z)(Ko,[["render",bo],["__scopeId","data-v-f21c433e"]]);var Ho=qo;const Vo=(0,i.Uk)(" 点击登录 ");function No(e,t,o,n,a,s){const r=(0,i.up)("a-button"),l=(0,i.up)("a-result"),c=(0,i.up)("SideBar"),d=(0,i.up)("a-layout-sider"),u=(0,i.up)("router-view"),p=(0,i.up)("a-layout"),_=(0,i.up)("FocusItem");return a.isApp||0!==e.userInfo.uid?((0,i.wg)(),(0,i.j4)(p,{key:1},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{class:"wrapper-scroller",theme:"light",style:{overflow:"auto",height:"100vh",position:"fixed",left:0,background:"#f1f1f1"}},{default:(0,i.w5)((()=>[(0,i.Wm)(c)])),_:1}),(0,i.Wm)(p,{class:"wrapper-scroller",style:(0,M.j5)({background:"white",marginLeft:"200px",marginRight:"240px",height:"100vh",position:"fixed",width:"calc(100vw - 440px)",overflowY:"auto"})},{default:(0,i.w5)((()=>[(0,i.Wm)(u)])),_:1},8,["style"]),(0,i.Wm)(d,{class:"wrapper-scroller",theme:"light",width:240,style:{background:"#f1f1f1",height:"100vh",position:"fixed",overflow:"auto",right:"0"}},{default:(0,i.w5)((()=>[(0,i.Wm)(_)])),_:1})])),_:1})):((0,i.wg)(),(0,i.j4)(l,{key:0,status:"403",title:"403","sub-title":"此站点需要登录后使用，请点击登录后再访问。"},{extra:(0,i.w5)((()=>[(0,i.Wm)(r,{type:"primary",onClick:t[0]||(t[0]=e=>s.goLogin())},{default:(0,i.w5)((()=>[Vo])),_:1})])),_:1}))}const Yo={class:"side-bar",style:{"overflow-x":"hidden"}},Jo=(0,i._)("span",null,"全部",-1),Go=(0,i._)("span",null,"收集箱",-1),Xo=(0,i._)("span",null,"最近",-1),Qo=["onClick"],en=(0,i._)("div",{style:{"text-align":"center","margin-bottom":"10px"}},"输入文件夹名称",-1);function tn(e,t,o,a,s,r){(0,i.up)("UserInfo");const l=(0,i.up)("AppstoreOutlined"),c=(0,i.up)("a-menu-item"),d=(0,i.up)("InboxOutlined"),u=(0,i.up)("ClockCircleOutlined"),p=(0,i.up)("a-menu"),_=(0,i.up)("FolderOutlined"),m=(0,i.up)("a-col"),h=(0,i.up)("a-row"),f=(0,i.up)("a-collapse-panel"),b=(0,i.up)("a-collapse"),g=(0,i.up)("a-input"),v=(0,i.up)("PlusOutlined"),w=(0,i.up)("a-popconfirm"),k=(0,i.up)("TreeList");return(0,i.wg)(),(0,i.iD)("div",Yo,[(0,i.kq)("",!0),(0,i.Wm)(p,{class:"nav",selectedKeys:r.tab,"onUpdate:selectedKeys":t[0]||(t[0]=e=>r.tab=e),style:{background:"none"},mode:"inline",onClick:r.handleNavClick},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{key:"all",onTitleClick:r.titleClick},{icon:(0,i.w5)((()=>[(0,i.Wm)(l)])),default:(0,i.w5)((()=>[Jo])),_:1},8,["onTitleClick"]),(0,i.Wm)(c,{key:"collection",onTitleClick:r.titleClick},{icon:(0,i.w5)((()=>[(0,i.Wm)(d)])),default:(0,i.w5)((()=>[Go])),_:1},8,["onTitleClick"]),(0,i.Wm)(c,{key:"latest"},{icon:(0,i.w5)((()=>[(0,i.Wm)(u)])),default:(0,i.w5)((()=>[Xo])),_:1})])),_:1},8,["selectedKeys","onClick"]),(0,i.Wm)(b,{class:"tab-wrapper",activeKey:s.collapseContentType,"onUpdate:activeKey":t[1]||(t[1]=e=>s.collapseContentType=e),bordered:!1,ghost:!0},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{key:"contentType",header:"内容类型"},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.Wm)(h,{class:"content-types",type:"flex"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.contentTypes,(e=>((0,i.wg)(),(0,i.j4)(m,{key:e,span:12},{default:(0,i.w5)((()=>[(0,i._)("div",{class:(0,M.C_)(["type",{active:e.tab===r.tab[0]}]),type:"link",onClick:t=>r.setTab(e.tab,e.name)},[(0,i.Wm)(_),(0,i.Uk)(" "+(0,M.zw)(e.name),1)],10,Qo)])),_:2},1024)))),128))])),_:1})])])),_:1})])),_:1},8,["activeKey"]),(0,i.Wm)(w,{"ok-text":"确定","cancel-text":"取消",onConfirm:r.createDir},{icon:(0,i.w5)((()=>[en])),title:(0,i.w5)((()=>[(0,i.Wm)(g,{ref:"dirInput",style:{"margin-left":"-10px"}},null,512)])),default:(0,i.w5)((()=>[(0,i._)("div",{onClick:t[2]||(t[2]=(0,n.iM)((()=>{}),["prevent","stop"])),style:{position:"absolute","z-index":"99",width:"20px",height:"20px",right:"0",cursor:"pointer"}},[(0,i.Wm)(v)])])),_:1},8,["onConfirm"]),(0,i.Wm)(b,{class:"tab-wrapper",activeKey:s.collapseFolder,"onUpdate:activeKey":t[3]||(t[3]=e=>s.collapseFolder=e),bordered:!1,ghost:!0},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{key:"folder",header:"文件夹"},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.Wm)(k,{onOnSelect:r.setSelectedFolder,treeData:e.userFolders,fields:s.userFolderFields},null,8,["onOnSelect","treeData","fields"])])])),_:1})])),_:1},8,["activeKey"])])}var on=o(6229),nn=o(8269),an=o(5114),sn=o(247),rn=o(7081);const ln=e=>((0,i.dD)("data-v-ab6572e0"),e=e(),(0,i.Cn)(),e),cn={class:"user-info"},dn=["href"],un=["href"],pn={style:{"text-align":"center",background:"white",padding:"10px","border-radius":"4px","box-shadow":"0 0 4px rgba(124,124,124,0.35)"}},_n=(0,i.Uk)("登录 "),mn={style:{"font-size":"12px","text-align":"left",color:"#666"}},hn=(0,i.Uk)("登录后即可使用"),fn=ln((()=>(0,i._)("strong",null,"云端同步",-1))),bn=(0,i.Uk)("和"),gn=ln((()=>(0,i._)("strong",null,"团队收藏夹",-1))),vn=(0,i.Uk)("功能。解锁全新协作模式。 "),wn={key:0,href:"tsb://app/redirect/?package=com.thisky.helper&url=https://www.yuque.com/tswork/browser/gynywc"},kn={key:1,target:"_blank",href:"https://www.yuque.com/tswork/browser/gynywc"};function yn(e,t,o,n,a,s){const r=(0,i.up)("a-avatar"),l=(0,i.up)("a-col"),c=(0,i.up)("a-progress"),d=(0,i.up)("a-row"),u=(0,i.up)("a-button");return(0,i.wg)(),(0,i.iD)("div",cn,[e.userInfo.uid?((0,i.wg)(),(0,i.j4)(d,{key:0},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{flex:"60px"},{default:(0,i.w5)((()=>[(0,i._)("a",{href:s.getComProtocolUrl(e.server.userSpaceUrl)},[(0,i.Wm)(r,{src:e.userInfo.avatar,size:50},null,8,["src"])],8,dn)])),_:1}),(0,i.Wm)(l,{flex:"auto"},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i._)("a",{href:s.getComProtocolUrl(e.server.userSpaceUrl),target:"_blank",class:"nickname"},(0,M.zw)(e.userInfo.nickname),9,un)]),(0,i._)("div",null,[(0,i.Wm)(c,{title:"剩余空间99%",percent:99,size:"small"})]),(0,i._)("div",null,[(0,i._)("span",{class:"logout",onClick:t[0]||(t[0]=e=>s.logout())},"登出")])])),_:1})])),_:1})):((0,i.wg)(),(0,i.j4)(d,{key:1,style:{"text-align":"center"}},{default:(0,i.w5)((()=>[(0,i._)("div",pn,[a.isApp?((0,i.wg)(),(0,i.j4)(u,{key:0,block:"",type:"primary",onClick:t[1]||(t[1]=e=>s.goAppLogin()),size:"small",style:{"margin-bottom":"10px"}},{default:(0,i.w5)((()=>[_n])),_:1})):(0,i.kq)("",!0),(0,i._)("div",mn,[hn,fn,bn,gn,vn,a.isApp?((0,i.wg)(),(0,i.iD)("a",wn,"了解更多")):((0,i.wg)(),(0,i.iD)("a",kn,"了解更多"))])])])),_:1}))])}var Dn={name:"UserInfo",props:{msg:String},data(){return{isApp:window.isApp}},computed:{...(0,r.rn)({userInfo:e=>e.user.userInfo,server:e=>e.config.server})},methods:{getComProtocolUrl:l.Z.getComProtocolUrl,logout(){this.$store.commit("user/setUserInfo",{uid:0})},goAppLogin(){window.ipc.send("addTab",{url:this.server.loginUrl});let e=setInterval((()=>{window.ipc.send("getUserInfo"),0!==this.userInfo.uid&&clearInterval(e)}),1e3)}}};const In=(0,_.Z)(Dn,[["render",yn],["__scopeId","data-v-ab6572e0"]]);var xn=In,Pn={name:"SideBar",props:{msg:String},components:{UserInfo:xn,AppstoreOutlined:on.Z,InboxOutlined:nn.Z,ClockCircleOutlined:an.Z,FolderOutlined:sn.Z,PlusOutlined:rn.Z,TreeList:Lo},data(){return{mkdirVisible:!1,userFolderFields:{subFolders:"children",children:"subFolders",dirname:"title",title:"dirname",path:"key"},visiblePopInputDirName:!1,collapseContentType:["contentType"],collapseFolder:["folder"],collapseGroupFolder:["groupFolder"],contentTypes:[{name:"书签",tab:"bookmark"},{name:"密码",tab:"pwds"},{name:"图片",tab:"img"},{name:"视频",tab:"video"},{name:"文档",tab:"doc"}]}},computed:{tab(){return[this.$store.state.ui.currentTab.name]},...(0,r.rn)({groups:e=>e.group.groups,userFolders:e=>e.subFolder.myAllFolders})},methods:{setSelectedFolder(e){this.$router.push("/main/"),this.$store.dispatch("ui/changeFolder",{path:this.$store.state.config.storePath+"/"+e[0]+"/"})},createDir(e){e.preventDefault();let t=this.$refs.dirInput.input.value;ee.Z.createDir(this.$store.state.config.storePath,t,this.$message),this.$refs.dirInput.setValue("")},handleNavClick(e){const t={all:"全部",collection:"收集箱",latest:"最近"};this.$router.push("/main/"),this.setTab(e.key,t[e.key])},titleClick(e){this.setTab(e.key),this.$router.push("/main/")},getFilters(e){let t=function(e){return e.filename.endsWith(".url")},o=function(e,t="img"){return $e.Z.getContentTypeFromFilename(e.filename).name===t},n=e=>o(e,"img"),a=e=>o(e,"video"),i=e=>o(e,"doc");switch(e){case"bookmark":return t;case"img":return n;case"video":return a;case"doc":return i;default:return e=>e}},setTab(e,t){switch(e){case"pwds":this.$router.replace("pwds"),this.$store.commit("ui/setTab",{name:"pwds",alias:"密码"});break;case"collection":this.$store.commit("ui/setConfig",{showSubFolders:!1}),this.$router.replace("content"),this.$store.dispatch("ui/changeTab",{name:e,alias:t});break;default:this.$store.commit("ui/setConfig",{showSubFolders:!0}),this.$store.commit("ui/setFilter",[this.getFilters(e)]),this.$router.replace("content"),this.$store.dispatch("ui/changeTab",{name:e,alias:t})}}}};const Cn=(0,_.Z)(Pn,[["render",tn]]);var Fn=Cn;const Tn={key:0},Sn={key:1,style:{"padding-top":"100px"}};function On(e,t,o,n,a,s){const r=(0,i.up)("focus-item-content"),l=(0,i.up)("focus-item-folder"),c=(0,i.up)("a-empty");return this.focusedItem?((0,i.wg)(),(0,i.iD)("div",Tn,["content"===this.focusedItem.type?((0,i.wg)(),(0,i.j4)(r,{key:0})):((0,i.wg)(),(0,i.j4)(l,{key:1}))])):((0,i.wg)(),(0,i.iD)("div",Sn,[(0,i.Wm)(c,{description:"未选择任何内容"})]))}const En=e=>((0,i.dD)("data-v-79c61277"),e=e(),(0,i.Cn)(),e),Mn={class:"content-info"},jn={style:{"margin-bottom":"20px",height:"auto",position:"relative"}},Wn=["src"],Un={style:{"margin-bottom":"10px"}},zn={style:{"margin-bottom":"10px"}},An=En((()=>(0,i._)("h4",null,"基本信息",-1))),Zn=En((()=>(0,i._)("br",null,null,-1))),Rn=En((()=>(0,i._)("br",null,null,-1))),Ln=En((()=>(0,i._)("br",null,null,-1))),Bn=(0,i.Uk)(" 文件路径："),$n=En((()=>(0,i._)("br",null,null,-1))),Kn=En((()=>(0,i._)("br",null,null,-1))),qn=(0,i.Uk)("导出文件");function Hn(e,t,o,n,a,s){const r=(0,i.up)("a-image"),l=(0,i.up)("a-textarea"),c=(0,i.up)("a-select"),d=(0,i.up)("a-input"),u=(0,i.up)("ExportOutlined"),p=(0,i.up)("a-rate"),_=(0,i.up)("a-button");return(0,i.wg)(),(0,i.iD)("div",Mn,[(0,i._)("div",jn,[["img","url"].indexOf(e.focusedItem.type)>-1?((0,i.wg)(),(0,i.j4)(r,{key:0,width:200,style:{"max-height":"300px"},src:e.cover},{placeholder:(0,i.w5)((()=>[(0,i.Wm)(r,{src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200",width:200,preview:!1})])),_:1},8,["src"])):((0,i.wg)(),(0,i.j4)(r,{key:1,style:(0,M.j5)([{objectFit:"cover",padding:"20px"},{background:"white"}]),width:200,height:190,preview:!1,class:"sub-folder-cover",src:"./img/type/other/"+e.focusedItem.type+".svg"},null,8,["src"])),e.focusedItem.extData.favicon?((0,i.wg)(),(0,i.iD)("img",{key:2,onerror:"this.src='./img/default.svg'",src:e.focusedItem.extData.favicon,class:"favicon",style:{bottom:"-10px",right:"-10px"}},null,8,Wn)):(0,i.kq)("",!0)]),(0,i._)("div",Un,[(0,i.Wm)(l,{value:e.focusedItem.name,"onUpdate:value":t[0]||(t[0]=t=>e.focusedItem.name=t),autSize:{minRows:1,maxRows:5},style:{"margin-bottom":"10px"},placeholder:"标题"},null,8,["value"]),(0,i.Wm)(c,{options:e.options,mode:"tags",placeholder:"选择标签",style:{width:"100%"}},null,8,["options"]),(0,i.Wm)(d,{value:e.focusedItem.remark,"onUpdate:value":t[1]||(t[1]=t=>e.focusedItem.remark=t),placeholder:"备注"},null,8,["value"]),(0,i.Wm)(d,{style:{"margin-bottom":"0"},value:e.focusedItem.href,"onUpdate:value":t[3]||(t[3]=t=>e.focusedItem.href=t),placeholder:"网址网址"},{suffix:(0,i.w5)((()=>[(0,i.Wm)(u,{title:"打开引用页",onClick:t[2]||(t[2]=t=>e.ipc.addTab(e.focusedItem.href))})])),_:1},8,["value"]),(0,i.Wm)(p,{style:{"margin-bottom":"10px"},value:4,"allow-half":""}),(0,i.Wm)(c,{options:e.options,mode:"tags",placeholder:"标记为",style:{width:"100%"}},null,8,["options"])]),(0,i._)("div",zn,[An,(0,i._)("div",null,[(0,i.Uk)(" 创建时间："+(0,M.zw)(this.dateStr(e.focusedItem.baseInfo.createTime))+" ",1),Zn,(0,i.Uk)(" 添加时间："+(0,M.zw)(this.dateStr(e.focusedItem.baseInfo.addTime))+" ",1),Rn,(0,i.Uk)(" 修改时间："+(0,M.zw)(this.dateStr(e.focusedItem.baseInfo.modifyTime))+" ",1),Ln,Bn,$n,(0,i._)("span",{title:"点击定位到文件",onClick:t[4]||(t[4]=t=>e.ipc.showItemInFolder(e.focusedItem.baseInfo.path+e.focusedItem.baseInfo.filename)),style:{color:"#999",cursor:"pointer"}},(0,M.zw)(e.focusedItem.baseInfo.relativePath)+(0,M.zw)(e.focusedItem.baseInfo.filename),1),Kn,(0,i.Uk)(" 文件大小："+(0,M.zw)(e.focusedItem.baseInfo.sizeText),1)])]),(0,i._)("div",null,[(0,i.Wm)(_,{block:""},{default:(0,i.w5)((()=>[qn])),_:1})])])}var Vn=o(4870),Nn=o(4965),Yn=(0,i.aZ)({name:"FocusItemContent",props:{},components:{ExportOutlined:Nn.Z},data(){return{ipc:ee.Z,value3:(0,Vn.iH)(["a1","b2"]),options:[{value:"稍后读"},{value:"代办"},{value:"待整理"},{value:"待标注"}]}},methods:{dateStr(e){var t,o=(new Date).getTime();if(e=parseInt(e.toFixed(0))/1e3,o=parseInt((o-1e3*e)/1e3),o<600)return"刚刚";if(o<3600&&o>=600)return t=Math.floor(o/60),t+"分钟前";if(o<86400&&o>=3600)return t=Math.floor(o/60/60),t+"小时前";if(o<259200&&o>=86400)return t=Math.floor(o/60/60/24),t+"天前";var n=new Date(1e3*parseInt(e));return n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()}},computed:{...(0,r.rn)({focusedItem:e=>e.ui.focusedItem.data}),cover(){return this.focusedItem.cover?this.focusedItem.cover.startsWith("/")?"file://"+this.$store.state.config.storePath+this.focusedItem.cover:this.focusedItem.cover:""}},setup(){return{random:(0,Vn.iH)()}}});const Jn=(0,_.Z)(Yn,[["render",Hn],["__scopeId","data-v-79c61277"]]);var Gn=Jn;const Xn=e=>((0,i.dD)("data-v-7f210e7b"),e=e(),(0,i.Cn)(),e),Qn={class:"content-info"},ea={style:{"margin-bottom":"20px",height:"auto",position:"relative"}},ta={style:{"margin-bottom":"10px"}},oa={style:{"margin-bottom":"10px"}},na=Xn((()=>(0,i._)("h4",null,"基本信息",-1))),aa=Xn((()=>(0,i._)("br",null,null,-1))),ia=Xn((()=>(0,i._)("br",null,null,-1))),sa=Xn((()=>(0,i._)("br",null,null,-1))),ra=(0,i.Uk)(" 文件路径："),la=Xn((()=>(0,i._)("br",null,null,-1))),ca=Xn((()=>(0,i._)("br",null,null,-1))),da=(0,i.Uk)("导出文件");function ua(e,t,o,n,a,s){const r=(0,i.up)("a-image"),l=(0,i.up)("a-textarea"),c=(0,i.up)("a-input"),d=(0,i.up)("a-rate"),u=(0,i.up)("a-button");return(0,i.wg)(),(0,i.iD)("div",Qn,[(0,i._)("div",ea,[(0,i.Wm)(r,{style:(0,M.j5)([{objectFit:"cover",padding:"20px"},{background:"white"}]),width:200,height:190,preview:!1,class:"sub-folder-cover",src:"./img/folder.svg"},null,8,["src"])]),(0,i._)("div",ta,[(0,i.Wm)(l,{value:e.focusedItem.name,"onUpdate:value":t[0]||(t[0]=t=>e.focusedItem.name=t),autSize:{minRows:1,maxRows:5},style:{"margin-bottom":"10px"},placeholder:"标题"},null,8,["value"]),(0,i.Wm)(c,{value:e.focusedItem.remark,"onUpdate:value":t[1]||(t[1]=t=>e.focusedItem.remark=t),placeholder:"备注"},null,8,["value"]),(0,i.Wm)(d,{style:{"margin-bottom":"10px"},value:4,"allow-half":""})]),(0,i._)("div",oa,[na,(0,i._)("div",null,[(0,i.Uk)(" 创建时间："+(0,M.zw)(this.dateStr(e.focusedItem.baseInfo.createTime))+" ",1),aa,(0,i.Uk)(" 添加时间："+(0,M.zw)(this.dateStr(e.focusedItem.baseInfo.addTime))+" ",1),ia,(0,i.Uk)(" 修改时间："+(0,M.zw)(this.dateStr(e.focusedItem.baseInfo.modifyTime))+" ",1),sa,ra,la,(0,i._)("span",{title:"点击定位到文件",onClick:t[2]||(t[2]=t=>e.ipc.showItemInFolder(e.focusedItem.baseInfo.path+e.focusedItem.baseInfo.filename)),style:{color:"#999",cursor:"pointer"}},(0,M.zw)(e.focusedItem.baseInfo.relativePath)+(0,M.zw)(e.focusedItem.baseInfo.filename),1),ca,(0,i.Uk)(" 文件大小："+(0,M.zw)(e.focusedItem.baseInfo.sizeText),1)])]),(0,i._)("div",null,[(0,i.Wm)(u,{block:""},{default:(0,i.w5)((()=>[da])),_:1})])])}var pa=(0,i.aZ)({name:"FocusItemFolder",props:{},components:{},data(){return{ipc:ee.Z,value3:(0,Vn.iH)(["a1","b2"]),options:[{value:"稍后读"},{value:"代办"},{value:"待整理"},{value:"待标注"}]}},methods:{dateStr(e){var t,o=(new Date).getTime();if(e=parseInt(e.toFixed(0))/1e3,o=parseInt((o-1e3*e)/1e3),o<600)return"刚刚";if(o<3600&&o>=600)return t=Math.floor(o/60),t+"分钟前";if(o<86400&&o>=3600)return t=Math.floor(o/60/60),t+"小时前";if(o<259200&&o>=86400)return t=Math.floor(o/60/60/24),t+"天前";var n=new Date(1e3*parseInt(e));return n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()}},computed:{...(0,r.rn)({focusedItem:e=>e.ui.focusedItem.data}),cover(){return this.focusedItem.cover?this.focusedItem.cover.startsWith("/")?"file://"+this.$store.state.config.storePath+this.focusedItem.cover:this.focusedItem.cover:""}},setup(){return{random:(0,Vn.iH)()}}});const _a=(0,_.Z)(pa,[["render",ua],["__scopeId","data-v-7f210e7b"]]);var ma=_a,ha=(0,i.aZ)({name:"FocusItem",props:{},components:{FocusItemContent:Gn,FocusItemFolder:ma},data(){},methods:{},computed:{...(0,r.rn)({focusedItem:e=>e.ui.focusedItem})},setup(){return{}}});const fa=(0,_.Z)(ha,[["render",On]]);var ba=fa,ga={name:"MainPage",components:{SideBar:Fn,FocusItem:ba},data(){return{isApp:window.isApp}},computed:{...(0,r.rn)({userInfo:e=>e.user.userInfo,storePath:e=>e.config.storePath})},mounted(){window.isApp&&(this.$store.commit("config/setIsApp",this.isApp),this.$store.dispatch("ui/init"),this.$store.dispatch("ui/changeTab",{name:"all",alias:"全部"}))},methods:{goLogin(){location.href=this.$store.state.config.server.loginUrl}}};const va=(0,_.Z)(ga,[["render",No]]);var wa=va;const ka=[{path:"/",redirect:"/main"},{path:"/main",component:wa,redirect:"/main/content",children:[{path:"content",component:Dt},{name:"img",path:"img/:path",component:Rt},{name:"pwds",path:"pwds",component:ro}]},{name:"popSaveToFolder",path:"/popSaveToFolder",component:Ho}];var ya=ka,Da=o(678);const Ia=(0,Da.p7)({history:(0,Da.r5)(),routes:ya});let xa=(0,n.ri)(h).use(Ia).use(a.ZP).use(T).mount("#app");window.tsbSdk&&(window.tsbk=O(),O().config({signature:"ts"}),O().on("gotUserInfo",((e,t)=>{let o=t.user.value;xa.$store.commit("user/setUserInfo",o)})),O().ready(),window.appReady()),window.app=xa},6873:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _utils_tools__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7214);_utils_tools__WEBPACK_IMPORTED_MODULE_0__.Z.getWindowArgs(window);const fs=eval("require")("fs"),contentListModel={loadLocalStoreContents(e){let t=fs.readdirSync(e),o=[];return t.forEach((t=>{o.push({path:e,filename:t,stat:fs.statSync(e+t)})})),o}};__webpack_exports__["Z"]=contentListModel},5517:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _models_contentListModel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6873),_utils_model_contentModel__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4117),_utils_pathTools__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8267),_utils_model_subFolderModel__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9300);const fs=eval("require")("fs"),group={namespaced:!0,state:()=>({contents:[]}),mutations:{updateContents(e,t){e.contents=t},assignContentMeta(e,t){let o=null;e.contents=e.contents.map((e=>(_utils_pathTools__WEBPACK_IMPORTED_MODULE_2__.Z.convertToCommonRelativePath(e.baseInfo.relativePath+e.baseInfo.filename)===t.relative_path_full&&(e=_utils_model_contentModel__WEBPACK_IMPORTED_MODULE_1__.Z.getContentFromFile(t.relative_path_full),o=e),e))),o||(e.contents=e.contents.unshift(_utils_model_contentModel__WEBPACK_IMPORTED_MODULE_1__.Z.getContentFromFile(t.relative_path_full)))}},getters:{contentsOrderByCreateTime(e){function t(e){return function(t,o){var n=t.baseInfo[e],a=o.baseInfo[e];return a-n}}return e.contents.sort(t("createTime"))}},actions:{loadFolderContents(e,t){let o=_models_contentListModel__WEBPACK_IMPORTED_MODULE_0__.Z.loadLocalStoreContents(t),n=e.rootState.ui.config,a=[],i=[],s=o;e.rootState.ui.filters.length>0&&(s=o.filter((t=>{if(!t.stat.isFile())return!0;let o=!1;return e.rootState.ui.filters.forEach((e=>{e(t)&&(o=!0)})),o}))),s.forEach((e=>{let o=e.filename;if(o.startsWith(".DS_Store"))return;const s=fs.statSync(t+e.filename);if(s.isFile()&&"_db.json"!==o){let o=_utils_model_contentModel__WEBPACK_IMPORTED_MODULE_1__.Z.getContentFromFile(_utils_pathTools__WEBPACK_IMPORTED_MODULE_2__.Z.getRelativeFullPathFromFullPath(t+e.filename));a.push(o)}else if(s.isDirectory()&&n.showSubFolders){if("_assets"===e.filename)return;let o=_utils_model_subFolderModel__WEBPACK_IMPORTED_MODULE_3__.Z.getSubFolderFromFolder(_utils_pathTools__WEBPACK_IMPORTED_MODULE_2__.Z.getRelativeFullPathFromFullPath(t+e.filename));i.push(o)}})),e.commit("content/updateContents",a,{root:!0}),e.commit("subFolder/setCurrentSubFolders",i,{root:!0});let r=window.libDb.scanLib(t);r.length>0&&window.app.$message.success({content:"扫描到此文件夹及子文件夹新增了 "+r.length+" 个文件或文件夹。已为您标记为New，并更新到资源库中。"})}}};__webpack_exports__["Z"]=group},631:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _utils_pathTools__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8267),_utils_model_subFolderModel__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9300);const fs=eval("require")("fs"),subFolder={namespaced:!0,state:()=>({subFolders:[],myAllFolders:[],myAllFoldersFlat:[],myAllFoldersTreeData:[]}),mutations:{setCurrentSubFolders(e,t){e.subFolders=t},setMyAllFolders(e,t){e.myAllFolders=t.subFolders},assignSubFolderMeta(e,t){let o=null;e.subFolders=e.subFolders.map((e=>(_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.convertToCommonRelativePath(e.baseInfo.relativePath+e.baseInfo.filename)===t.relative_path_full&&(e=_utils_model_subFolderModel__WEBPACK_IMPORTED_MODULE_1__.Z.getSubFolderFromFolder(t.relative_path_full),o=e),e))),o||(e.subFolders=e.subFolders.unshift(_utils_model_subFolderModel__WEBPACK_IMPORTED_MODULE_1__.Z.getSubFolderFromFolder(t.relative_path_full)))}},getters:{getCurrentSubFolders(e){return e.subFolders},getMyAllFoldersTreeData(e){return e}},actions:{updateTreeData(e){let t=[],o=[];const n=e.rootState.config.storePath;function a(e,o){o.subFolders=[];let i=fs.readdirSync(e).filter((t=>fs.statSync(e+"/"+t).isDirectory()&&!t.startsWith(".DS")));return i.forEach((i=>{if("_assets"===i)return;let s={};s.path=(e+"/"+i).replace("//","/"),s.relativePath=s.path.replace(n,""),s.dirname=i,s.title=i,s.key=s.relativePath,s.parentDir=o.relativePath,s.children=s.subFolders=a(s.path,s),s.contentCount=fs.readdirSync(s.path).length>0?fs.readdirSync(s.path).length:0,o.subFolders.push(s),t.push(s)})),o.subFolders}o.path=n,o.relativePath="/",o.dirname=n.substr(n.replace("\\","/").lastIndexOf("/")),o.subFolders=a(o.path,o),t.push(o),e.commit("setMyAllFolders",o)}}};__webpack_exports__["Z"]=subFolder},5451:function(e,t){"use strict";const o=[{ext:"jpg,jpeg,png,bmp,svg",alias:"图片",name:"img"},{ext:"rp",alias:"原型",name:"prototype"},{ext:"js,php",alias:"代码",name:"code"},{ext:"doc,docx,ppt,pptx,xls,xlsx,pdf",alias:"文档",name:"doc"},{ext:"mp4,avi,rmvb,mpg,m4v",alias:"视频",name:"video"},{ext:"url",alias:"网页",name:"url"},{ext:"",alias:"文件夹",name:"folder"}],n=["img","video","url"],a={contentTypeMap:o,canOpenInside:n,extCanOpenInside(e){const t=a.getContentTypeNameFromExt(e);return n.indexOf(t)>-1},getExtNoDotFromFilename(e){return e.lastIndexOf(".")>-1?e.substr(e.lastIndexOf(".")+1):""},getContentTypeFromExt(e){let t=e.replaceAll(".","");const n=o.filter((e=>{const o=e.ext.split(",");if(o.indexOf(t)>-1)return!0}));return n.length>0?n[0]:{ext:".other",alias:"其他",name:"other"}},getContentTypeAliasFromExt(e){return a.getContentTypeFromExt(e).alias},getContentTypeNameFromExt(e){return a.getContentTypeFromExt(e).name},getContentTypeFromFilename(e){return a.getContentTypeFromExt(a.getExtNoDotFromFilename(e))},getContentTypeDefine(e){let t=o.map((t=>{if(t.name===e)return t}));return t.length>0?t[0]:{ext:"",alias:"其他",name:"other"}}};t["Z"]=a},8938:function(__unused_webpack_module,__webpack_exports__){"use strict";const low=eval("require")("lowdb"),FileSync=eval("require")("lowdb/adapters/FileSync");let dbInstance=null,configDb={dbInstance:null,userDataPath:"",storePath:"",init(e){configDb.userDataPath=e;const t=new FileSync(configDb.userDataPath+"/configDb.json"),o=low(t);configDb.dbInstance=o,dbInstance=o,dbInstance.defaults({config:{storePath:configDb.userDataPath+"/收藏夹.lab"}}).write(),configDb.storePath=dbInstance.get("config.storePath").value()},getStorePath(){return configDb.storePath},setStorePath(e){dbInstance.set("config.storePath",e).write()}};__webpack_exports__["Z"]=configDb},1960:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _utils_pathTools__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8267),uuid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(536),_utils_fileHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6649),_utils_contentTypeHelper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5451);const low=eval("require")("lowdb"),FileSync=eval("require")("lowdb/adapters/FileSync"),fs=eval("require")("fs");let db=null,libDb={dbInstance:null,libPath:"",assetsPath:"_assets",getAssetsRelativePath(){return libDb.assetsPath},getAssetsPath(){let e=libDb.libPath+"/"+libDb.assetsPath;return fs.existsSync(e)||fs.mkdirSync(e),e.replaceAll("//","/")},init(e){libDb.libPath=e;const t=new FileSync(libDb.libPath+"/_db.json"),o=low(t);libDb.dbInstance=o,libDb.dbInstance.defaults({content_meta:[]}).write(),db=libDb.dbInstance,libDb.repairDb()},repairDb(){db.get("content_meta").remove({name:""}).write(),db.set("content_meta",db.get("content_meta").uniqBy("relative_path_full").value()).write(),console.log("执行了db错误修正")},getMeta(e){let t=db.get("content_meta").find({relative_path_full:_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.convertToCommonRelativePath(e)}).value();return t||(t={}),t},reload(){libDb.init(libDb.libPath)},addMeta(e,t,o){let n=Object.assign({folder:e,folder_uuid:"",uuid:(0,uuid__WEBPACK_IMPORTED_MODULE_3__.Z)(),relative_path:_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.convertToCommonRelativePath(e),relative_path_full:_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.convertToCommonRelativePath(e+"/"+t),base_info:{update_time:Date.now()}},o);return db.get("content_meta").push(n).write(),console.log("return last =",n),n},addUrl(e,t,o,n,a,i){const s=".url",r=(0,uuid__WEBPACK_IMPORTED_MODULE_3__.Z)();let l={type:"url",remark:i,name:t,uuid:r,href:o,new:!0,ext_data:{favicon:a}},c=`\n[DEFAULT]\n[InternetShortcut]\nURL=${o}\n`;return fs.cpSync(n.replace("file://",""),libDb.getAssetsPath()+"/"+r+".jpg"),l.cover="/"+libDb.getAssetsRelativePath()+"/"+r+".jpg",console.log("cover=",l.cover),fs.writeFileSync((window.configDb.getStorePath()+"/"+e+"/"+t+s).replaceAll("//","/"),c,"utf-8"),libDb.addMeta(e,t+s,l)},addImgMetaFromFile(e){return libDb.addCommonMetaInfo(e)},addVideoMetaFromFile(e){return libDb.addCommonMetaInfo(e)},removeMeta(e){libDb.reload(),console.log("delete",e),db.get("content_meta").remove({relative_path_full:e}).write()},addCommonMetaInfo(e,t){const o=(0,uuid__WEBPACK_IMPORTED_MODULE_3__.Z)();let n=_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.getFolderFromRelativeFullPath(e),a=e.substr(e.lastIndexOf("/")+1),i=e.substr(e.lastIndexOf("/")).substr(0,e.lastIndexOf(".")).replaceAll("/","");return t=Object.assign({type:_utils_contentTypeHelper__WEBPACK_IMPORTED_MODULE_2__.Z.getContentTypeFromFilename(a).name,remark:"",name:i,uuid:o,href:"",new:!0,ext_data:{},base_info:{update_time:Date.now()}},t),libDb.addMeta(n,a,t)},addFolderMetaInfo(e){let t={name:e.substr(e.lastIndexOf("/")+1)};return libDb.addCommonMetaInfo(e,t)},scanLib(e=libDb.libPath){let t=[];return _utils_fileHelper__WEBPACK_IMPORTED_MODULE_1__.Z.getFileTree(e,{showFile:!1,filters:[".DS_Store","_assets","_db.json"],mapCallback:(e,o)=>{let n=_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.convertToCommonRelativePath((e+"/"+o).replace(libDb.libPath,"")),a=libDb.getMeta(n);if(!a.name){t.push(n);let e=_utils_contentTypeHelper__WEBPACK_IMPORTED_MODULE_2__.Z.getContentTypeFromFilename(n),o={};switch(e.name){case"img":o=libDb.addImgMetaFromFile(n);break;case"folder":o=libDb.addFolderMetaInfo(n);break;case"video":o=libDb.addVideoMetaFromFile(n);break;case"prototype":o=libDb.addCommonMetaInfo(n);break;case"url":break;default:o=libDb.addCommonMetaInfo(n);break}"folder"===o.type?window.app.$store.commit("subFolder/assignSubFolderMeta",o):window.app.$store.commit("content/assignContentMeta",o)}}}),t},setNotNew(e){db.get("content_meta").find({uuid:e}).assign({new:!1}).write()},renameMetaFolder(e,t){db.get("content_meta").forEach((o=>{_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.convertToCommonRelativeDir(o.relative_path_full).startsWith(e)&&(o.folder=_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.removeLastSlash(_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.convertToCommonRelativeDir(o.folder).replace(e,t)),o.relative_path=_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.removeLastSlash(_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.convertToCommonRelativeDir(o.relative_path).replace(e,t)),o.relative_path_full=_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.removeLastSlash(_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.convertToCommonRelativeDir(o.relative_path_full).replace(e,t)))})).write()}};__webpack_exports__["Z"]=libDb},6649:function(__unused_webpack_module,__webpack_exports__){"use strict";const fileHelper={getFileTree(dir,options){options=Object.assign({showFile:!0,gotFlat:!0,filters:["node_modules"],mapCallback:null},options);let path=eval("require")("path"),fs=eval("require")("fs");var tree=[];let flat=[];var mapDeep={};function readDirs(e){var t={path:e,title:path.basename(e),type:"dir"},o=fs.readdirSync(e);return t.children=o.map((function(t){if(options.filters.indexOf(t)>-1)return;options.mapCallback&&options.mapCallback(e,t);var o=path.join(e,t),n=fs.statSync(o);if(n.isDirectory())return readDirs(o,t,t);let a={path:o,name:t,type:"file"};return options.gotFlat?(flat.push(a),!options.showFile&&a):void 0})),flat.push({path:t.path,title:t.title,type:t.type}),t}mapDeep[dir]=0,tree.push(readDirs(dir,dir));let result={tree:tree};return options.gotFlat&&(result["flat"]=flat),result}};__webpack_exports__["Z"]=fileHelper},3391:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _utils_pathTools__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8267),_utils_model_contentModel__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4117);const electron=eval("require")("electron"),shell=eval("require")("electron").shell,ipcSender=electron.ipcRenderer,fs=eval("require")("fs"),path=eval("require")("path"),ipc={openExternal(e){ipcSender.send("openExternal",{fullPath:e})},openDir(e){ipcSender.send("openDir",{dir:e})},showItemInFolder(e){ipcSender.send("showItemInFolder",{fullPath:e})},handleFileAssign(e,t){ipcSender.send("handleFileAssign",{type:e,args:{filePath:t.filePath}})},setWallPaper(e){ipcSender.send("setWallPaper",{wallPaper:e})},trashItem(e){let t=e;"win32"===process.platform&&(t=t.replaceAll("/","\\")),shell.trashItem(t).then((()=>{_utils_model_contentModel__WEBPACK_IMPORTED_MODULE_1__.Z.removeContent(e)}))},trashFolder(e){return e},createDir(e,t,o){if(!t)return void o.error("必须输入文件夹名称。");if(t=t.replaceAll("/","").replaceAll("\\",""),""===t)return void o.error("不可输入不规范字符作为文件夹名称，请重新输入。");let n=path.join(e,t).replaceAll("\\","/");fs.existsSync(n)?o.error("已存在同名文件夹，创建失败，"):(fs.mkdirSync(n),fs.existsSync(n)&&(window.libDb.addFolderMetaInfo(_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.getRelativeFullPathFromFullPath(n)),window.app.$store.dispatch("subFolder/updateTreeData"),window.app.$store.dispatch("ui/reload"),o.success("创建文件夹"+t+"成功。"))),ipc.once("createDirResult",((e,t)=>{"true"===t.result?(o.success("创建文件夹成功。"),window.app.$store.dispatch("subFolder/updateTreeData")):o.error("创建文件夹失败，"+t.message)}))},renameFolder(e,t){const o=e.substr(0,e.lastIndexOf("/")),n=path.join(window.$defaultStrorePath,e),a=path.join(window.$defaultStrorePath,o,t);fs.existsSync(a)?window.app.$message.error("已经存在同名文件夹，重命名失败。"):(fs.renameSync(n,a),window.libDb.renameMetaFolder(_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.convertToCommonRelativeDir(e),_utils_pathTools__WEBPACK_IMPORTED_MODULE_0__.Z.convertToCommonRelativeDir(path.join(o,t))),fs.existsSync(a)?(window.app.$message.success("重命名成功。"),window.app.$store.dispatch("subFolder/updateTreeData"),window.app.$store.dispatch("ui/reload")):window.app.$message.error("重命名失败。"))},fetchAllPwds(){return ipcSender.invoke("credentialStoreGetCredentials")},bindAddPageInfoListener(e,t){ipcSender.on("gotAddPageInfo",((t,o)=>{e(o)})),ipcSender.on("gotHdCaptureData",((e,o)=>{t(o)}))},getAddPageInfo(){ipcSender.send("getAddPageInfo")},noticeAddPageReady(){ipcSender.send("addPageReady")},hideFavPop(){ipcSender.send("hideFavPop")},addTab(e){ipcSender.send("addTab",{url:e})},once(e,t){ipcSender.once(e,t)}};ipcSender.on("error",((e,t)=>{window.app.$message.error(t.message)})),ipcSender.on("success",((e,t)=>{window.app.$message.success(t.message)})),__webpack_exports__["Z"]=ipc},4117:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _utils_contentTypeHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5451),_utils_tools__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7214),_utils_pathTools__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8267),_utils_db_libDb__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1960);const fs=eval("require")("fs"),sizeOf=eval("require")("image-size"),contentModel={addLink(e,t,o,n,a,i){return window.libDb.addUrl(e,t,o,n,a,i)},getMetaFromFile(e){return e=_utils_pathTools__WEBPACK_IMPORTED_MODULE_2__.Z.convertToCommonRelativePath(e),window.libDb.getMeta(e)},getContentFromFile(e){let t=_utils_pathTools__WEBPACK_IMPORTED_MODULE_2__.Z.getFullPathFromRelativeFullPath(e),o=_utils_pathTools__WEBPACK_IMPORTED_MODULE_2__.Z.getFilenameFromRelativeFullPath(e),n=_utils_pathTools__WEBPACK_IMPORTED_MODULE_2__.Z.convertToCommonDir(e.substr(0,e.lastIndexOf("/"))),a=_utils_pathTools__WEBPACK_IMPORTED_MODULE_2__.Z.convertToCommonRelativeDir(n.replace(window.$defaultStrorePath,"")),i=fs.statSync(t);const s=o.substr(o.lastIndexOf(".")),r=_utils_contentTypeHelper__WEBPACK_IMPORTED_MODULE_0__.Z.getContentTypeNameFromExt(s);let l={extCanOpenInside:_utils_contentTypeHelper__WEBPACK_IMPORTED_MODULE_0__.Z.extCanOpenInside(s),name:o.substr(0,o.lastIndexOf(".")),type:r,ext:s,extData:{},baseInfo:{path:n,relativePath:a,filename:o,createTime:i.birthtimeMs,addTime:i.ctimeMs,modifyTime:i.mtimeMs,size:i.size,sizeText:_utils_tools__WEBPACK_IMPORTED_MODULE_1__.Z.convertToText(i.size)},href:""},c=contentModel.getMetaFromFile(e);if("img"===r){let o=sizeOf(t);l.cover=_utils_pathTools__WEBPACK_IMPORTED_MODULE_2__.Z.convertToCommonRelativePath(e),l.extData.width=o.width,l.extData.height=o.height}return l=Object.assign(l,c),l.extData=Object.assign(l.extData,l.ext_data),l.meta=c,l},removeContent(e,t=!0){let o=e;t&&(o=_utils_pathTools__WEBPACK_IMPORTED_MODULE_2__.Z.getRelativeFullPathFromFullPath(e)),_utils_db_libDb__WEBPACK_IMPORTED_MODULE_3__.Z.removeMeta(o)}};__webpack_exports__["Z"]=contentModel},9300:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _utils_tools__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7214),_utils_pathTools__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8267),_utils_db_libDb__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1960);const fs=eval("require")("fs"),contentModel={addLink(e,t,o,n,a,i){return window.libDb.addUrl(e,t,o,n,a,i)},getMetaFromFile(e){return e=_utils_pathTools__WEBPACK_IMPORTED_MODULE_1__.Z.convertToCommonRelativePath(e),window.libDb.getMeta(e)},getSubFolderFromFolder(e){let t=_utils_pathTools__WEBPACK_IMPORTED_MODULE_1__.Z.getFullPathFromRelativeFullPath(e),o=_utils_pathTools__WEBPACK_IMPORTED_MODULE_1__.Z.getFilenameFromRelativeFullPath(e),n=fs.statSync(t),a=_utils_pathTools__WEBPACK_IMPORTED_MODULE_1__.Z.convertToCommonDir(e.substr(0,e.lastIndexOf("/"))),i=_utils_pathTools__WEBPACK_IMPORTED_MODULE_1__.Z.convertToCommonRelativeDir(a.replace(window.$defaultStrorePath,"")),s=window.libDb.getMeta(_utils_pathTools__WEBPACK_IMPORTED_MODULE_1__.Z.getRelativeFullPathFromFullPath(a+o)),r={name:o,contentsCount:fs.readdirSync(t).length,cover:"./img/folder.svg",meta:s,baseInfo:{path:a,relativePath:i,filename:o,createTime:n.birthtimeMs,addTime:n.ctimeMs,modifyTime:n.mtimeMs,size:n.size,sizeText:_utils_tools__WEBPACK_IMPORTED_MODULE_0__.Z.convertToText(n.size)}};return r},removeContent(e,t=!0){let o=e;t&&(o=_utils_pathTools__WEBPACK_IMPORTED_MODULE_1__.Z.getRelativeFullPathFromFullPath(e)),_utils_db_libDb__WEBPACK_IMPORTED_MODULE_2__.Z.removeMeta(o)}};__webpack_exports__["Z"]=contentModel},8267:function(e,t){"use strict";const o={convertToCommonFilePath(e){return e.startsWith("file://")||(e="file://"+e),e=o.replaceSlash(e),e},convertToCommonDir(e){return e=o.replaceSlash(window.$defaultStrorePath+e),e.endsWith("/")||(e+="/"),e},convertToCommonRelativePath(e){return e=o.replaceSlash(e),e.startsWith("/")||(e="/"+e),e},convertToCommonRelativeDir(e){return e=o.convertToCommonRelativePath(e).replaceAll("//","/"),e.endsWith("/")||(e+="/"),e},replaceSlash(e){return e.replaceAll("\\","/").replaceAll("//","/")},getFolderFromRelativeFullPath(e){return e.substr(0,e.lastIndexOf("/"))},getFilenameFromRelativeFullPath(e){return e.substr(e.lastIndexOf("/")+1)},getNameFromRelativeFullPath(e){return e.substr(e.lastIndexOf("/")).substr(0,e.lastIndexOf(".")).replaceAll("/","")},getRelativeFullPathFromFullPath(e){return o.convertToCommonRelativePath(e.replace(window.$defaultStrorePath,""))},getFullPathFromRelativeFullPath(e){return(window.$defaultStrorePath+e).replaceAll("//","/")},removeLastSlash(e){return e.endsWith("/")&&(e=e.substr(0,e.length-1)),e},filterFilename(e,t=" "){const o=["/","\\","|","?",'"',"*",":","<",">","."];let n=[];return o.forEach((o=>{e.indexOf(o)>-1&&n.push(o),e=e.replaceAll(o,t)})),{filename:e,hadMapped:n}}};t["Z"]=o},7214:function(e,t){"use strict";const o={getAppProtocolUrl(e,t){return`tsb://app/redirect/?package=${e}&url=${t}`},getComProtocolUrl(e){return o.getAppProtocolUrl("com.thisky.com",e)},getWindowArgs:e=>(e.globalArgs={},process.argv.forEach((function(t){if(t.startsWith("--")){var o=t.split("=")[0].replace("--",""),n=t.split("=")[1];e.globalArgs[o]=n}})),"MacIntel"===navigator.platform?e.platformType="mac":"Win32"===navigator.platform?e.platformType="windows":e.platformType="linux",e),getDomain:function(e){let t=e;return t.startsWith("www.")&&(t=t.slice(4)),t},getRootDomain:function(e){let t=o.getDomainFromUrl(e),n=t.split(".");return n[n.length-2]+"."+n[n.length-1]},getDomainFromUrl(e){let t=e.split("/");return t=t[2]?t[2]:"",t=o.getDomain(t),t},htmlEncode(e){var t=document.createElement("span");return t.appendChild(document.createTextNode(e)),t.innerHTML},htmlDecode(e){var t=document.createElement("span");return t.innerHTML=e,t.textContent},convertToText(e){let t=(e/1024/1024).toFixed(2);return t<1?(e/1024).toFixed(1)+"KB":t>1024?(e/1024/1024/1024).toFixed(2)+"GB":t+"MB"}};t["Z"]=o},5893:function(){}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var o=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(o.exports,o,o.exports,__webpack_require__),o.loaded=!0,o.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(t,o,n,a){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],a=e[c][2];for(var s=!0,r=0;r<o.length;r++)(!1&a||i>=a)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](o[r])}))?o.splice(r--,1):(s=!1,a<i&&(i=a));if(s){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,n,a]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var o in t)__webpack_require__.o(t,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,a,i=o[0],s=o[1],r=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)__webpack_require__.o(s,n)&&(__webpack_require__.m[n]=s[n]);if(r)var c=r(__webpack_require__)}for(t&&t(o);l<i.length;l++)a=i[l],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return __webpack_require__.O(c)},o=self["webpackChunkfav"]=self["webpackChunkfav"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(5415)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.8a675c52.js.map